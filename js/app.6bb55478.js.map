{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/viewer/ol/Map.vue?7933","webpack:///./src/assets/img/background-layers/OSM-Standart.png","webpack:///./src/components/layers/LayerTree.vue?000b","webpack:///./src/components/viewer/viewer.vue?d951","webpack:///./src/components/viewer/ol/controls/Fullscreen.vue?d3c9","webpack:///./src/assets/background-login.jpg","webpack:///./src/assets/img/background-layers/Mapbox.png","webpack:///./src/assets/img/background-layers/Aerial.png","webpack:///./src/utils/ScreenFull.js","webpack:///./src/components/viewer/ol/controls/Legend.vue?e4ee","webpack:///./src/components/viewer/ol/controls/ZoomControl.vue?49f7","webpack:///./src/plugins/vuetify.js","webpack:///./src/plugins/vuescroll.js","webpack:///./src/App.vue?a8ad","webpack:///./src/App.vue","webpack:///./src/views/Login.vue?d7e4","webpack:///src/views/Login.vue","webpack:///./src/views/Login.vue?9a50","webpack:///./src/views/Login.vue","webpack:///./src/views/Home.vue?9128","webpack:///./src/EventBus.js","webpack:///./src/components/viewer/viewer.vue?4634","webpack:///./src/components/viewer/ol/Map.vue?6d9d","webpack:///./src/style/OlStyleDefs.js","webpack:///./src/factory/OlStyle.js","webpack:///./src/services/http.js","webpack:///./src/factory/layer.js","webpack:///./src/utils/Helpers.js","webpack:///./src/utils/Layer.js","webpack:///./src/utils/MapUtils.js","webpack:///./src/components/viewer/ol/controls/Overlay.vue?13f6","webpack:///src/components/viewer/ol/controls/Overlay.vue","webpack:///./src/components/viewer/ol/controls/Overlay.vue?f751","webpack:///./src/components/viewer/ol/controls/Overlay.vue","webpack:///./src/components/viewer/ol/controls/Legend.vue?4e6f","webpack:///./src/mixins/Mapable.js","webpack:///src/components/viewer/ol/controls/Legend.vue","webpack:///./src/components/viewer/ol/controls/Legend.vue?3378","webpack:///./src/components/viewer/ol/controls/Legend.vue?9238","webpack:///./src/components/viewer/ol/controls/BackgroundSwitcher.vue?17eb","webpack:///src/components/viewer/ol/controls/BackgroundSwitcher.vue","webpack:///./src/components/viewer/ol/controls/BackgroundSwitcher.vue?1e24","webpack:///./src/components/viewer/ol/controls/BackgroundSwitcher.vue","webpack:///./src/components/viewer/ol/controls/ZoomControl.vue?e6bf","webpack:///src/components/viewer/ol/controls/ZoomControl.vue","webpack:///./src/components/viewer/ol/controls/ZoomControl.vue?c7ee","webpack:///./src/components/viewer/ol/controls/ZoomControl.vue?73ca","webpack:///./src/components/viewer/ol/controls/Fullscreen.vue?f59e","webpack:///src/components/viewer/ol/controls/Fullscreen.vue","webpack:///./src/components/viewer/ol/controls/Fullscreen.vue?4f9f","webpack:///./src/components/viewer/ol/controls/Fullscreen.vue?d245","webpack:///./src/components/viewer/ol/controls/Signout.vue?782e","webpack:///src/components/viewer/ol/controls/Signout.vue","webpack:///./src/components/viewer/ol/controls/Signout.vue?f5ba","webpack:///./src/components/viewer/ol/controls/Signout.vue?0133","webpack:///src/components/viewer/ol/Map.vue","webpack:///./src/components/viewer/ol/Map.vue?cc01","webpack:///./src/components/viewer/ol/Map.vue?edb6","webpack:///./src/components/viewer/mapillary/Mapillary.vue?58e9","webpack:///./src/components/viewer/mapillary/controls/MapillaryImagePreview.vue?9ca9","webpack:///src/components/viewer/mapillary/controls/MapillaryImagePreview.vue","webpack:///./src/components/viewer/mapillary/controls/MapillaryImagePreview.vue?64c8","webpack:///./src/components/viewer/mapillary/controls/MapillaryImagePreview.vue","webpack:///src/components/viewer/mapillary/Mapillary.vue","webpack:///./src/components/viewer/mapillary/Mapillary.vue?388c","webpack:///./src/components/viewer/mapillary/Mapillary.vue","webpack:///src/components/viewer/viewer.vue","webpack:///./src/components/viewer/viewer.vue?40a3","webpack:///./src/components/viewer/viewer.vue?1c74","webpack:///./src/components/core/TreePanel.vue?6381","webpack:///./src/components/layers/LayerTree.vue?cef0","webpack:///src/components/layers/LayerTree.vue","webpack:///./src/components/layers/LayerTree.vue?397b","webpack:///./src/components/layers/LayerTree.vue?93b3","webpack:///src/components/core/TreePanel.vue","webpack:///./src/components/core/TreePanel.vue?11ae","webpack:///./src/components/core/TreePanel.vue?4301","webpack:///src/views/Home.vue","webpack:///./src/views/Home.vue?231f","webpack:///./src/views/Home.vue","webpack:///./src/router/index.js","webpack:///./src/main.js","webpack:///./src/components/viewer/ol/controls/Signout.vue?7555","webpack:///./src/components/core/TreePanel.vue?b536","webpack:///./src/assets/img/background-layers/OSM-Dark.png","webpack:///./src/assets/img/background-layers/OSM-Light.png","webpack:///./src/assets/img/background-layers sync ^\\.\\/.*\\.png$"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","document","isCommonjs","fn","val","fnMap","ret","eventNameMap","change","fullscreenchange","error","fullscreenerror","screenfull","request","element","Promise","resolve","reject","onFullScreenEntered","this","off","on","documentElement","requestFullscreen","catch","exit","isFullscreen","onFullScreenExit","exitFullscreen","toggle","onchange","callback","onerror","event","eventName","addEventListener","removeEventListener","raw","defineProperties","Boolean","fullscreenElement","isEnabled","fullscreenEnabled","Vue","use","Vuetify","icons","iconfont","vuescroll","ops","$vuescrollConfig","bar","background","onlyShowBarOnScroll","keepShow","_vm","_h","$createElement","_c","_self","attrs","staticRenderFns","script","component","staticStyle","style","staticClass","logo","$event","openWebsite","_v","isLoading","_s","_e","preventDefault","pressed","nativeOn","type","indexOf","_k","keyCode","model","$$v","valid","expression","emailRules","email","password","methods","open","VAlert","VApp","VAppBar","VBtn","VCard","VCardActions","VCardText","VContainer","VContent","VFlex","VForm","VLayout","VProgressLinear","VSpacer","VTextField","class","isEmbedded","EventBus","miniViewerVisible","showMiniViewer","miniViewOlMap","switchViews","ref","directives","rawName","map","popup","isVisible","title","scopedSlots","_u","getInfoResult","currentLayerIndex","previousGetInfoLayer","nextGetInfoLayer","closePopup","proxy","domProps","rawHtml","_l","item","getInfoStyle","OlStyle","fill","OlFill","color","stroke","OlStroke","width","image","OlCircle","radius","defaultStyle","feature","geomType","getGeometry","getType","includes","baseStyleDefs","boundaryStyle","stations","powerlines","mapillaryStyleDefs","activeSequence","baseOverlayStyle","styleFunction","styleArray","panoColor","styleConfig","getView","getZoom","circleStyle","panoCircleStyle","highlightStyle","styles","angle","skey","wifiStyle","text","OlText","scale","font","offsetY","rotateWithView","rotation","Math","PI","circleSolidStyle","updateBearingStyle","bearing","liveBearing","OlStyleFactory","getInstance","styleConf","createPointStyle","fillColor","createPolygonStyle","strokeColor","strokeWidth","createLineStyle","Style","CircleStyle","createFill","createStroke","olStyle","setFill","Stroke","Fill","http","axios","LayerFactory","formatMapping","MVT","MvtFormat","GeoJSON","GeoJsonFormat","TopoJSON","TopoJsonFormat","KML","KmlFormat","lConf","lid","now","Date","getTime","createWmsLayer","createWmsTileLayer","createXyzLayer","createOsmLayer","createBingLayer","createVectorLayer","createVectorTileLayer","createESRIFeatureService","layer","ImageLayer","displayInLayerList","displayInLegend","visible","opacity","queryable","requiresPois","ratio","zIndex","source","ImageWMS","url","params","LAYERS","layers","serverType","attributions","TileLayer","extent","preload","parseFloat","TileWmsSource","TILED","tiled","xyzLayer","cascadePrint","XyzSource","accessToken","maxZoom","OsmSource","bingMaps","BingMaps","imagerySet","vectorLayer","VectorLayer","showInMapillary","VectorSource","format","formatConfig","styleRef","hoverable","hoverAttribute","authUrl","firebase","storage","getDownloadURL","then","getSource","setUrl","refresh","vtLayer","VectorTileLayer","VectorTileSource","esrijsonFormat","EsriJSON","vectorSource","loader","resolution","projection","encodeURIComponent","response","features","readFeatures","featureProjection","addFeatures","strategy","tileStrategy","createXYZ","tileSize","humanize","str","replace","toUpperCase","groupBy","items","reduce","isCssColor","match","getLayerType","layerType","olLayerImage","olLayerVector","getAllChildLayers","olMap","allLayers","getLayers","getArray","forEach","LayerGroup","getFlatLayers","sublayers","hasGroupLayer","some","sublayer","getFlatLayers_","undefined","array","computedOpacity","getOpacity","olLayerLayer","set","getWMSLegendURL","layerName","opt_scale","opt_legendRule","opt_legendWidth","opt_legendHeight","opt_servertype","opt_dpi","opt_bbox","opt_srs","opt_additionalQueryString","opt_language","queryString","FORMAT","TRANSPARENT","SERVICE","VERSION","REQUEST","LAYER","SCALE","LANGUAGE","RULE","WIDTH","HEIGHT","DPI","BBOX","join","SRS","round","assign","olUriAppendParams","getStyleImage","options","theCanvas","row","size","margin","height","canvas","DEVICE_PIXEL_RATIO","createElement","ctx","getContext","save","vectorContext","toContext","typeGeom","properties","test","olFeature","olGeomPoint","olGeomLineString","olGeomPolygon","setProperties","getStyle","Array","cx","cy","sx","sy","img","getImage","getAnchor","anchor","si","getSize","dx","dy","olExtend","setStyle","drawGeometry","rect","clip","restore","geojsonToFeature","obj","Vector","getFeatures","findClosestFeatureToCoordinate","coordinate","nearestFeature","isArray","Feature","getClosestFeatureToCoordinate","toRadians","degrees","toDegrees","radians","calculateBearing","startLat","startLng","destLat","destLng","y","sin","cos","x","brng","atan2","_t","props","VToolbar","VToolbarTitle","index","getVisible","getParams","split","index2","getWMSLegendImageUrl","getVectorLayerImageUrl","removeWithLayer","mapillaryLayer","icon","Mapable","created","$map","onMapBound","$on","mixins","me","filter","layerUrl","startsWith","location","origin","legedUrl","renderVectorLegendImage","setTimeout","mounted","VDivider","VExpansionPanel","VExpansionPanelContent","VExpansionPanelHeader","VExpansionPanels","VIcon","VRow","backgroundLayers","selectBaselayer","setVisible","VCardTitle","VImg","VSpeedDial","_g","zoom","currentZoom","view","getAnimating","cancelAnimations","animate","newZoom","duration","easing","VTooltip","toggleFullScreen","signOut","components","Legend","BackgroundSwitcher","ZoomControl","$appConfig","center","minZoom","controlsColor","queryableLayers","activeInteractions","$emit","setTarget","getElementById","updateSize","setOlButtonColor","setupMapClick","setupMapPointerMove","createPopupOverlay","collapsible","dblClickZoomInteraction","DoubleClickZoom","Map","interactions","altShiftDragRotate","rotateableMap","doubleClickZoom","controls","attribution","View","extend","createGetInfoLayer","startedInteraction","from","Set","interaction","stopedInteraction","createLayers","layersConfigGrouped","group","reverse","mapLayers","toString","layerGroup","wrapX","getInfoLayerSource","addLayer","vector","rotateEl","className","borderRadius","rotateElStyle","backgroundColor","attrEl","elStyle","querySelector","popupOverlay","Overlay","$refs","$el","autoPan","autoPanMargin","autoPanAnimation","addOverlay","setPosition","clear","showPopup","addFeature","position","mapPointerMoveListenerKey","evt","dragging","mapClickListenerKey","INFO_FORMAT","promiseArray","results","olFeatures","computed","currentInfo","PopupInfo","transformed","keys","excludedProperties","k","watch","setActive","VSimpleTable","previewImageUrl","imageUrl","VProgressCircular","MapillaryImagePreview","cliendId","organizationKey","baseOverlayUrl","startSequenceKey","mapillaryImgAPI","mapillary","highlightFeature","pointFeature","movePointLayer","baseOverlayerLayer","hoverHighlightLayer","mapHoverListenerKey","imagePreviewOverlay","init","resize","createFeatureOverlay","createImagePreviewOverlay","createMovePointLayer","createBaseOverlayLayer","createHoverHighlightLayer","addInteractions","onClick","goToOlFeature","layerItemSelected","localLayers","getState","createMarkers","lat","lonLat","lon","markers","marker","markerComponent","removeAll","add","featureOverlay","imagePreview","geometry","tileGrid","tilePixelRatio","tileLoadFunction","tile","setLoader","fetch","arrayBuffer","setFeatures","layerFilter","candidate","getProperties","moveToKey","changed","mapillaryChanged","setGeometry","setCoordinates","node","sequenceKey","mapillaryMoveend","getBearing","geom","setBearing","fullPano","desiredBearing","nodeBearing","ca","basicX","bearingToBasic","basicY","setCenter","basic","wrap","interval","max","min","destroyed","removeLayer","removeOverlay","getComponent","stop","$off","updateViews","mapillaryRef","olMapRef","closeMiniView","mini","drawer","getColor","stopPropagation","activeComponent","tag","panels","showOptions","toggleLayerVisibility","mapLayer","toggleLayerOptions","changeLayerOpacity","id","isExpanded","children","localVectorLayers","getMapLayerObj","Group","layerOpt","doNothing","clickedLayer","setOpacity","VSlider","LayerTree","VNavigationDrawer","VTab","VTabs","treePanel","baseColor","$isEmbedded","cmpLookup","refs","VueRouter","routes","path","Home","meta","requiresAuth","Login","router","base","process","beforeEach","to","next","matched","record","isAuthenticated","currentUser","require","firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","initializeApp","config","productionTip","appEl","hasAttribute","auth","onAuthStateChanged","json","appConfig","vuetify","render","h","App","$mount","webpackContext","req","webpackContextResolve","e","Error","code"],"mappings":"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","file":"js/app.6bb55478.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/yec/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=style&index=0&lang=css&\"","module.exports = __webpack_public_path__ + \"img/OSM-Standart.debeab01.png\";","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LayerTree.vue?vue&type=style&index=0&id=12af7b11&lang=css&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LayerTree.vue?vue&type=style&index=0&id=12af7b11&lang=css&scoped=true&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./viewer.vue?vue&type=style&index=0&id=4c8a9389&lang=css&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./viewer.vue?vue&type=style&index=0&id=4c8a9389&lang=css&scoped=true&\"","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Fullscreen.vue?vue&type=style&index=0&id=5df6821a&lang=css&scoped=true&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Fullscreen.vue?vue&type=style&index=0&id=5df6821a&lang=css&scoped=true&\"","module.exports = __webpack_public_path__ + \"img/background-login.62fecd60.jpg\";","module.exports = __webpack_public_path__ + \"img/Mapbox.5c273537.png\";","module.exports = __webpack_public_path__ + \"img/Aerial.c79e4908.png\";","/*!\n * screenfull\n * v5.0.1 - 2020-01-19\n * (c) Sindre Sorhus; MIT License\n */\n(function() {\n  \"use strict\";\n\n  var document =\n    typeof window !== \"undefined\" && typeof window.document !== \"undefined\"\n      ? window.document\n      : {};\n  var isCommonjs = typeof module !== \"undefined\" && module.exports;\n\n  var fn = (function() {\n    var val;\n\n    var fnMap = [\n      [\n        \"requestFullscreen\",\n        \"exitFullscreen\",\n        \"fullscreenElement\",\n        \"fullscreenEnabled\",\n        \"fullscreenchange\",\n        \"fullscreenerror\"\n      ],\n      // New WebKit\n      [\n        \"webkitRequestFullscreen\",\n        \"webkitExitFullscreen\",\n        \"webkitFullscreenElement\",\n        \"webkitFullscreenEnabled\",\n        \"webkitfullscreenchange\",\n        \"webkitfullscreenerror\"\n      ],\n      // Old WebKit\n      [\n        \"webkitRequestFullScreen\",\n        \"webkitCancelFullScreen\",\n        \"webkitCurrentFullScreenElement\",\n        \"webkitCancelFullScreen\",\n        \"webkitfullscreenchange\",\n        \"webkitfullscreenerror\"\n      ],\n      [\n        \"mozRequestFullScreen\",\n        \"mozCancelFullScreen\",\n        \"mozFullScreenElement\",\n        \"mozFullScreenEnabled\",\n        \"mozfullscreenchange\",\n        \"mozfullscreenerror\"\n      ],\n      [\n        \"msRequestFullscreen\",\n        \"msExitFullscreen\",\n        \"msFullscreenElement\",\n        \"msFullscreenEnabled\",\n        \"MSFullscreenChange\",\n        \"MSFullscreenError\"\n      ]\n    ];\n\n    var i = 0;\n    var l = fnMap.length;\n    var ret = {};\n\n    for (; i < l; i++) {\n      val = fnMap[i];\n      if (val && val[1] in document) {\n        for (i = 0; i < val.length; i++) {\n          ret[fnMap[0][i]] = val[i];\n        }\n        return ret;\n      }\n    }\n\n    return false;\n  })();\n\n  var eventNameMap = {\n    change: fn.fullscreenchange,\n    error: fn.fullscreenerror\n  };\n\n  var screenfull = {\n    request: function(element) {\n      return new Promise(\n        function(resolve, reject) {\n          var onFullScreenEntered = function() {\n            this.off(\"change\", onFullScreenEntered);\n            resolve();\n          }.bind(this);\n\n          this.on(\"change\", onFullScreenEntered);\n\n          element = element || document.documentElement;\n\n          Promise.resolve(element[fn.requestFullscreen]()).catch(reject);\n        }.bind(this)\n      );\n    },\n    exit: function() {\n      return new Promise(\n        function(resolve, reject) {\n          if (!this.isFullscreen) {\n            resolve();\n            return;\n          }\n\n          var onFullScreenExit = function() {\n            this.off(\"change\", onFullScreenExit);\n            resolve();\n          }.bind(this);\n\n          this.on(\"change\", onFullScreenExit);\n\n          Promise.resolve(document[fn.exitFullscreen]()).catch(reject);\n        }.bind(this)\n      );\n    },\n    toggle: function(element) {\n      return this.isFullscreen ? this.exit() : this.request(element);\n    },\n    onchange: function(callback) {\n      this.on(\"change\", callback);\n    },\n    onerror: function(callback) {\n      this.on(\"error\", callback);\n    },\n    on: function(event, callback) {\n      var eventName = eventNameMap[event];\n      if (eventName) {\n        document.addEventListener(eventName, callback, false);\n      }\n    },\n    off: function(event, callback) {\n      var eventName = eventNameMap[event];\n      if (eventName) {\n        document.removeEventListener(eventName, callback, false);\n      }\n    },\n    raw: fn\n  };\n\n  if (!fn) {\n    if (isCommonjs) {\n      module.exports = { isEnabled: false };\n    } else {\n      window.screenfull = { isEnabled: false };\n    }\n\n    return;\n  }\n\n  Object.defineProperties(screenfull, {\n    isFullscreen: {\n      get: function() {\n        return Boolean(document[fn.fullscreenElement]);\n      }\n    },\n    element: {\n      enumerable: true,\n      get: function() {\n        return document[fn.fullscreenElement];\n      }\n    },\n    isEnabled: {\n      enumerable: true,\n      get: function() {\n        // Coerce to boolean in case of old WebKit\n        return Boolean(document[fn.fullscreenEnabled]);\n      }\n    }\n  });\n\n  if (isCommonjs) {\n    module.exports = screenfull;\n  } else {\n    window.screenfull = screenfull;\n  }\n})();\n","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Legend.vue?vue&type=style&index=0&id=486bc436&lang=css&scoped=true&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Legend.vue?vue&type=style&index=0&id=486bc436&lang=css&scoped=true&\"","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ZoomControl.vue?vue&type=style&index=0&id=309d79b0&lang=css&scoped=true&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ZoomControl.vue?vue&type=style&index=0&id=309d79b0&lang=css&scoped=true&\"","import \"@fortawesome/fontawesome-free/css/all.css\"; // Ensure you are using css-loader\nimport Vue from \"vue\";\nimport Vuetify from \"vuetify/lib\";\nVue.use(Vuetify);\n\nexport default new Vuetify({\n  icons: {\n    iconfont: \"md\" // default - only for display purposes\n  }\n});\n","import Vue from \"vue\";\nimport vuescroll from \"vuescroll/dist/vuescroll-native\";\n\n// You can set global config here.\nVue.use(vuescroll, {\n  ops: {\n    // The global config\n  },\n  name: \"vue-scroll\" // customize component name, default -> vueScroll\n});\n\n/**\n * or\n */\nVue.prototype.$vuescrollConfig = {\n  bar: {\n    background: \"#cecece\",\n    onlyShowBarOnScroll: false,\n    keepShow: true\n  }\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=8402a5c6&\"\nvar script = {}\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('v-app',{staticStyle:{\"background-size\":\"cover\"},style:({'background-image': 'url(' + require('../assets/background-login.jpg') + ')'}),attrs:{\"id\":\"inspire\"}},[_c('v-content',[_c('v-container',{attrs:{\"fluid\":\"\",\"fill-height\":\"\"}},[_c('v-layout',{attrs:{\"align-center\":\"\",\"justify-center\":\"\"}},[_c('v-flex',{attrs:{\"xs10\":\"\",\"sm8\":\"\",\"md3\":\"\"}},[_c('v-card',{staticClass:\"elevation-12\"},[_c('v-app-bar',{staticClass:\"toolbar green\",attrs:{\"flat\":\"\",\"height\":\"50\"}},[_c('img',{staticClass:\"logo mr-2\",attrs:{\"src\":_vm.logo,\"width\":\"95px\"},on:{\"click\":function($event){return _vm.openWebsite()}}}),_c('span',{staticClass:\"white--text title\"},[_vm._v(\"Street View Client\")]),_c('v-spacer')],1),_c('v-progress-linear',{attrs:{\"active\":_vm.isLoading,\"indeterminate\":\"\",\"color\":\"green\"}}),(_vm.error)?_c('v-alert',{staticClass:\"ma-2\",attrs:{\"outlined\":\"\",\"type\":\"error\"}},[_vm._v(\" \"+_vm._s(_vm.error)+\" \")]):_vm._e(),_c('v-card-text',[_c('v-form',{attrs:{\"lazy-validation\":\"\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.pressed($event)}},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.pressed($event)}},model:{value:(_vm.valid),callback:function ($$v) {_vm.valid=$$v},expression:\"valid\"}},[_c('v-text-field',{attrs:{\"label\":\"Email\",\"name\":\"login\",\"rules\":_vm.emailRules,\"prepend-icon\":\"person\",\"type\":\"text\",\"required\":\"\",\"disabled\":_vm.isLoading},model:{value:(_vm.email),callback:function ($$v) {_vm.email=$$v},expression:\"email\"}}),_c('v-text-field',{attrs:{\"id\":\"password\",\"label\":\"Password\",\"name\":\"password\",\"prepend-icon\":\"lock\",\"type\":\"password\",\"required\":\"\",\"disabled\":_vm.isLoading},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}})],1)],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"disabled\":_vm.isLoading,\"dark\":\"\",\"color\":\"green\"},on:{\"click\":_vm.pressed}},[_vm._v(\"Login\")])],1)],1)],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"app\" >\n    <v-app id=\"inspire\" :style=\"{'background-image': 'url(' + require('../assets/background-login.jpg') + ')'}\" style=\"background-size: cover;\">\n      <v-content >\n        <v-container fluid fill-height>\n          <v-layout align-center justify-center>\n            <v-flex xs10 sm8 md3>\n              <v-card class=\"elevation-12\">\n                <v-app-bar flat class=\"toolbar green\" height=\"50\">\n                  <img\n                    @click=\"openWebsite()\"\n                    class=\"logo mr-2\"\n                    :src=\"logo\"\n                    width=\"95px\"\n                  />\n                  <span class=\"white--text title\"\n                    >Street View Client</span\n                  >\n                  <v-spacer></v-spacer>\n                </v-app-bar>\n                <v-progress-linear\n                  :active=\"isLoading\"\n                  indeterminate\n                  color=\"green\"\n                ></v-progress-linear>\n                <v-alert class=\"ma-2\" outlined v-if=\"error\" type=\"error\">\n                  {{ error }}\n                </v-alert>\n                <v-card-text>\n                  <v-form\n                    @keyup.native.enter=\"pressed\"\n                    @submit.prevent=\"pressed\"\n                    v-model=\"valid\"\n                    lazy-validation\n                  >\n                    <v-text-field\n                      label=\"Email\"\n                      name=\"login\"\n                      v-model=\"email\"\n                      :rules=\"emailRules\"\n                      prepend-icon=\"person\"\n                      type=\"text\"\n                      required\n                      :disabled=\"isLoading\"\n                    ></v-text-field>\n\n                    <v-text-field\n                      id=\"password\"\n                      label=\"Password\"\n                      name=\"password\"\n                      v-model=\"password\"\n                      prepend-icon=\"lock\"\n                      type=\"password\"\n                      required\n                      :disabled=\"isLoading\"\n                    ></v-text-field>\n                  </v-form>\n                </v-card-text>\n                <v-card-actions>\n                  <v-spacer></v-spacer>\n                  <v-btn\n                    :disabled=\"isLoading\"\n                    @click=\"pressed\"\n                    dark\n                    color=\"green\"\n                    >Login</v-btn\n                  >\n                </v-card-actions>\n              </v-card>\n            </v-flex>\n          </v-layout>\n        </v-container>\n      </v-content>\n    </v-app>\n  </div>\n</template>\n\n<script>\nimport * as firebase from \"firebase/app\";\nimport \"firebase/auth\";\nexport default {\n  data() {\n    return {\n      logo: \"img/yec_logo.png\",\n      background: \"img/background-login.jpg\",\n      valid: true,\n      email: \"\",\n      emailRules: [\n        v => !!v || \"E-mail is required\",\n        v => /.+@.+\\..+/.test(v) || \"E-mail must be valid\"\n      ],\n      password: \"\",\n      error: \"\",\n      isLoading: false\n    };\n  },\n  methods: {\n    pressed() {\n      if (!this.valid) {\n        return;\n      }\n      this.error = \"\";\n      this.isLoading = true;\n\n      firebase\n        .auth()\n        .signInWithEmailAndPassword(this.email, this.password)\n        .then(() => {\n          this.isLoading = false;\n          this.$router.replace({ name: \"home\" });\n        })\n        .catch(error => {\n          this.error = error;\n          this.isLoading = false;\n        });\n    },\n    openWebsite() {\n      window.open(\"https://yukonenergy.ca/\", \"_blank\");\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped></style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=fcd751ec&scoped=true&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"fcd751ec\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAlert } from 'vuetify/lib/components/VAlert';\nimport { VApp } from 'vuetify/lib/components/VApp';\nimport { VAppBar } from 'vuetify/lib/components/VAppBar';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VContent } from 'vuetify/lib/components/VContent';\nimport { VFlex } from 'vuetify/lib/components/VGrid';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VLayout } from 'vuetify/lib/components/VGrid';\nimport { VProgressLinear } from 'vuetify/lib/components/VProgressLinear';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VAlert,VApp,VAppBar,VBtn,VCard,VCardActions,VCardText,VContainer,VContent,VFlex,VForm,VLayout,VProgressLinear,VSpacer,VTextField})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',{class:{ 'wg-app': true, 'wg-app-embedded': _vm.isEmbedded },attrs:{\"id\":\"wg-app\",\"data-app\":\"\"}},[_c('tree-panel'),_c('v-content',[_c('v-container',{staticClass:\"pa-0\",staticStyle:{\"height\":\"100vh\",\"max-height\":\"100%\"},attrs:{\"fluid\":\"\",\"fill-height\":\"\"}},[_c('app-viewer')],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import Vue from \"vue\";\r\n\r\n// Vue instance acting as app-wide event-bus\r\nexport const EventBus = new Vue();\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(!_vm.miniViewerVisible)?_c('v-btn',{staticClass:\"mx-2 miniviewer-button\",attrs:{\"fab\":\"\",\"dark\":\"\",\"small\":\"\",\"color\":\"green\"},on:{\"click\":_vm.showMiniViewer}},[_c('v-icon',{attrs:{\"dark\":\"\"}},[_vm._v(\"streetview\")])],1):_vm._e(),(_vm.miniViewerVisible)?_c('div',{staticClass:\"elevation-4\",class:_vm.miniViewOlMap ? 'fullscreen' : 'miniview'},[(!_vm.miniViewOlMap)?_c('div',{attrs:{\"id\":\"switch-triangle\"},on:{\"click\":function($event){return _vm.switchViews()}}},[_c('v-icon',{staticClass:\"swap-icon\",attrs:{\"large\":\"\",\"dark\":\"\"}},[_vm._v(\"swap_horiz\")])],1):_vm._e(),_c('app-mapillary',{ref:\"mapillary\",staticClass:\"fullscreen\"})],1):_vm._e(),_c('div',{class:_vm.miniViewOlMap ? 'miniview' : 'fullscreen'},[(_vm.miniViewOlMap)?_c('div',{attrs:{\"id\":\"switch-triangle\"},on:{\"click\":function($event){return _vm.switchViews()}}},[_c('v-icon',{staticClass:\"swap-icon\",attrs:{\"large\":\"\",\"dark\":\"\"}},[_vm._v(\"swap_horiz\")])],1):_vm._e(),_c('app-ol-map',{ref:\"olmap\",staticClass:\"fullscreen\",attrs:{\"miniViewOlMap\":_vm.miniViewOlMap}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"ol-map-container\"}},[_c('zoom-control',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.miniViewOlMap),expression:\"!miniViewOlMap\"}],attrs:{\"map\":_vm.map}}),_c('full-screen',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.miniViewOlMap),expression:\"!miniViewOlMap\"}]}),_c('background-switcher',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.miniViewOlMap),expression:\"!miniViewOlMap\"}]}),_c('map-legend',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.miniViewOlMap),expression:\"!miniViewOlMap\"}]}),_c('sign-out',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.miniViewOlMap),expression:\"!miniViewOlMap\"}]}),_c('overlay-popup',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.popup.isVisible && _vm.miniViewOlMap === false),expression:\"popup.isVisible && miniViewOlMap === false\"}],ref:\"popup\",attrs:{\"title\":_vm.popup.title},scopedSlots:_vm._u([{key:\"close\",fn:function(){return [(_vm.getInfoResult.length > 1)?[_c('span',[_vm._v(\"(\"+_vm._s(_vm.popup.currentLayerIndex + 1)+\" of \"+_vm._s(_vm.getInfoResult.length)+\")\")]),_c('v-icon',{staticStyle:{\"cursor\":\"pointer\"},attrs:{\"disabled\":_vm.popup.currentLayerIndex === 0},on:{\"click\":function($event){return _vm.previousGetInfoLayer()}}},[_vm._v(\"chevron_left\")]),_c('v-icon',{staticStyle:{\"cursor\":\"pointer\"},attrs:{\"disabled\":_vm.popup.currentLayerIndex === _vm.getInfoResult.length - 1},on:{\"click\":function($event){return _vm.nextGetInfoLayer()}}},[_vm._v(\"chevron_right\")])]:_vm._e(),_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){return _vm.closePopup()}}},[_c('v-icon',[_vm._v(\"close\")])],1)]},proxy:true},{key:\"body\",fn:function(){return [_c('div',{staticClass:\"subtitle-2 mb-4 font-weight-bold\"},[_vm._v(\" \"+_vm._s(_vm.getInfoResult[_vm.popup.currentLayerIndex] ? _vm.getInfoResult[_vm.popup.currentLayerIndex].get(\"layerName\") : \"\")+\" \")]),_c('v-divider'),_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.popup.rawHtml)}}),_c('div',{staticStyle:{\"height\":\"190px\"}},[_c('vue-scroll',[_c('v-simple-table',{staticClass:\"pr-2\",attrs:{\"dense\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(){return [_c('tbody',_vm._l((_vm.currentInfo),function(item){return _c('tr',{key:item.property},[(item.property !== 'PopupInfo')?_c('td',[_vm._v(\" \"+_vm._s(item.property)+\" \")]):_vm._e(),(item.property !== 'PopupInfo')?_c('td',[_vm._v(\" \"+_vm._s(item.value)+\" \")]):_vm._e(),(item.property === 'PopupInfo')?_c('span',{domProps:{\"innerHTML\":_vm._s(item.value)}}):_vm._e()])}),0)]},proxy:true}])})],1)],1),_c('v-divider')]},proxy:true}])},[_c('v-btn',{attrs:{\"icon\":\"\"}},[_c('v-icon',[_vm._v(\"close\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import OlStyle from \"ol/style/Style\";\nimport OlStroke from \"ol/style/Stroke\";\nimport OlFill from \"ol/style/Fill\";\nimport OlCircle from \"ol/style/Circle\";\nimport OlText from \"ol/style/Text\";\n\nexport function getMeasureStyle(measureConf) {\n  return new OlStyle({\n    fill: new OlFill({\n      color: measureConf.fillColor || \"rgba(255, 255, 255, 0.2)\"\n    }),\n    stroke: new OlStroke({\n      color: measureConf.strokeColor || \"rgba(0, 0, 0, 0.5)\",\n      width: 4\n    })\n  });\n}\nexport function getMeasureInteractionStyle(measureConf) {\n  return new OlStyle({\n    fill: new OlFill({\n      color: measureConf.sketchFillColor || \"rgba(255, 255, 255, 0.2)\"\n    }),\n    stroke: new OlStroke({\n      color: measureConf.sketchStrokeColor || \"rgba(0, 0, 0, 0.5)\",\n      lineDash: [10, 10],\n      width: 2\n    }),\n    image: new OlCircle({\n      radius: 5,\n      stroke: new OlStroke({\n        color: measureConf.sketchVertexStrokeColor || \"rgba(0, 0, 0, 0.7)\"\n      }),\n      fill: new OlFill({\n        color: measureConf.sketchVertexFillColor || \"rgba(255, 255, 255, 0.2)\"\n      })\n    })\n  });\n}\n\nexport function getSelectStyle() {\n  return new OlStyle({\n    fill: new OlFill({\n      color: [0, 0, 0, 0]\n    }),\n    stroke: new OlStroke({\n      color: \"#fe4a49\",\n      width: 5,\n      lineDash: [10, 10]\n    }),\n    image: new OlCircle({\n      radius: 7,\n      fill: new OlFill({\n        color: \"#FF0000\"\n      })\n    })\n  });\n}\n\nexport function getInfoStyle() {\n  return new OlStyle({\n    fill: new OlFill({\n      color: \"rgba(255,0,0, 0.2)\"\n    }),\n    stroke: new OlStroke({\n      color: \"#FF0000\",\n      width: 2\n    }),\n    image: new OlCircle({\n      radius: 7,\n      fill: new OlFill({\n        color: \"#FF0000\"\n      })\n    })\n  });\n}\n\nexport function defaultStyle(feature) {\n  const geomType = feature.getGeometry().getType();\n  const style = new OlStyle({\n    fill: new OlFill({\n      color: [\"MultiPolygon\", \"Polygon\"].includes(geomType)\n        ? \"#FF0000\"\n        : [0, 0, 0, 0]\n    }),\n    stroke: new OlStroke({\n      color: [\"MultiPolygon\", \"Polygon\"].includes(geomType)\n        ? \"#FF0000\"\n        : \"#FF0000\",\n      width: 3\n    }),\n    image: new OlCircle({\n      radius: 7,\n      fill: new OlFill({\n        color: \"#FF0000\"\n      })\n    })\n  });\n  return [style];\n}\n\nexport function getFeatureHighlightStyle() {\n  return [\n    new OlStyle({\n      fill: new OlFill({\n        color: [0, 0, 0, 0]\n      }),\n      stroke: new OlStroke({\n        color: \"#FF0000\",\n        width: 10\n      }),\n      image: new OlCircle({\n        radius: 10,\n        fill: new OlFill({\n          color: \"#FF0000\"\n        })\n      })\n    })\n  ];\n}\n\nexport const baseStyleDefs = {\n  boundaryStyle: () => {\n    return new OlStyle({\n      fill: new OlFill({\n        color: [0, 0, 0, 0]\n      }),\n      stroke: new OlStroke({\n        color: \"#707070\",\n        width: 5.5\n      })\n    });\n  },\n  stations: defaultStyle,\n  powerlines: defaultStyle\n};\n\n/**\n * Mapillary styles\n */\n\nexport const mapillaryStyleDefs = {\n  activeSequence: \"\",\n  baseOverlayStyle: map => {\n    const styleFunction = function(feature) {\n      const styleArray = [];\n      let color = \"rgba(53, 175, 109,0.7)\";\n      let panoColor = \"rgba(53, 175, 109,0.5)\";\n      if (\n        feature.get(\"key\") === mapillaryStyleDefs.activeSequence ||\n        feature.get(\"skey\") === mapillaryStyleDefs.activeSequence\n      ) {\n        color = \"rgba(48, 194, 255, 1)\";\n        panoColor = \"rgba(48, 194, 255, 0.7)\";\n      }\n      const styleConfig = {\n        stroke: new OlStroke({\n          color: color,\n          width: 4\n        })\n      };\n      if (map.getView().getZoom() > 16) {\n        const circleStyle = new OlStyle({\n          image: new OlCircle({\n            radius: 6,\n            fill: new OlFill({ color: color })\n          })\n        });\n        styleArray.push(circleStyle);\n        if (feature.get(\"pano\") === 1 && map.getView().getZoom() >= 17) {\n          const panoCircleStyle = new OlStyle({\n            image: new OlCircle({\n              radius: 15,\n              fill: new OlFill({ color: panoColor })\n            })\n          });\n          styleArray.push(panoCircleStyle);\n        }\n      }\n      const style = new OlStyle(styleConfig);\n      styleArray.push(style);\n      return styleArray;\n    };\n    return styleFunction;\n  },\n  highlightStyle: feature => {\n    let styles = [];\n    const angle = feature.get(\"ca\");\n    const skey = feature.get(\"skey\");\n    if (angle) {\n      const wifiStyle = new OlStyle({\n        text: new OlText({\n          text: \"\\ue1d8\",\n          scale: 1,\n          font: '900 18px \"Material Icons\"',\n          offsetY: -10,\n          rotateWithView: true,\n          rotation: (angle * Math.PI) / 180,\n          fill: new OlFill({\n            color:\n              skey === mapillaryStyleDefs.activeSequence ? \"#30C2FF\" : \"#047d50\"\n          }),\n          stroke: new OlStroke({\n            color:\n              skey === mapillaryStyleDefs.activeSequence\n                ? \"#30C2FF\"\n                : \"#047d50\",\n            width: 3\n          })\n        })\n      });\n      styles.push(wifiStyle);\n    }\n    const circleStyle = new OlStyle({\n      text: new OlText({\n        text: \"\\uf111\",\n        scale: 0.9,\n        font: '900 18px \"Font Awesome 5 Free\"',\n        fill: new OlFill({\n          color:\n            skey === mapillaryStyleDefs.activeSequence ? \"#30C2FF\" : \"#047d50\"\n        }),\n        stroke: new OlStroke({ color: \"white\", width: 4 })\n      })\n    });\n    styles.push(circleStyle);\n    return styles;\n  },\n  circleSolidStyle: new OlStyle({\n    text: new OlText({\n      text: \"\\uf111\",\n      scale: 0.7,\n      font: '900 18px \"Font Awesome 5 Free\"',\n      fill: new OlFill({ color: \"red\" }),\n      stroke: new OlStroke({ color: \"white\", width: 4 })\n    })\n  }),\n  wifiStyle: new OlStyle({\n    text: new OlText({\n      text: \"\\ue1d8\",\n      scale: 1.2,\n      font: '900 18px \"Material Icons\"',\n      offsetY: -10,\n      rotation: 0,\n      fill: new OlFill({ color: \"red\" }),\n      stroke: new OlStroke({ color: \"red\", width: 3 })\n    })\n  }),\n  updateBearingStyle: bearing => {\n    const liveBearing = new OlStyle({\n      text: new OlText({\n        text: \"\\ue1d8\",\n        scale: 1.2,\n        font: '900 18px \"Material Icons\"',\n        offsetY: -10,\n        rotateWithView: true,\n        rotation: (bearing * Math.PI) / 180,\n        fill: new OlFill({ color: \"red\" }),\n        stroke: new OlStroke({ color: \"red\", width: 3 })\n      })\n    });\n    return [liveBearing, mapillaryStyleDefs.circleSolidStyle];\n  }\n};\n","import { Circle as CircleStyle, Fill, Stroke, Style } from \"ol/style\";\r\n\r\n/**\r\n * Factory, which creates OpenLayers style instances according to a given config\r\n * object.\r\n * This only covers a minimal subset of the OpenLayers style capabilities.\r\n * It allows to create simple styles for points, line and polygons.\r\n * For advanced styling use a custom style function or\r\n * GeoStyler<https://github.com/terrestris/geostyler>\r\n */\r\n\r\nexport const OlStyleFactory = {\r\n  /**\r\n   * Returns an OpenLayers Style instance due to given config.\r\n   *\r\n   * @param  {Object} styleConf  Style config object\r\n   * @return {Style}             OL Style instance\r\n   */\r\n  getInstance(styleConf) {\r\n    if (!styleConf) {\r\n      return;\r\n    } else if (styleConf.radius) {\r\n      return OlStyleFactory.createPointStyle(styleConf);\r\n    } else if (styleConf.fillColor) {\r\n      return OlStyleFactory.createPolygonStyle(styleConf);\r\n    } else if (styleConf.strokeColor || styleConf.strokeWidth) {\r\n      return OlStyleFactory.createLineStyle(styleConf);\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Returns an OpenLayers style instance for point due to given config.\r\n   *\r\n   * @param  {Object} styleConf  Style config object\r\n   * @return {Style}             OL style instance\r\n   */\r\n  createPointStyle(styleConf) {\r\n    return new Style({\r\n      image: new CircleStyle({\r\n        radius: styleConf.radius,\r\n        fill: OlStyleFactory.createFill(styleConf),\r\n        stroke: OlStyleFactory.createStroke(styleConf)\r\n      })\r\n    });\r\n  },\r\n\r\n  /**\r\n   * Returns an OpenLayers style instance for lines due to given config.\r\n   *\r\n   * @param  {Object} styleConf  Style config object\r\n   * @return {Style}             OL style instance\r\n   */\r\n  createLineStyle(styleConf) {\r\n    const olStyle = new Style({\r\n      stroke: OlStyleFactory.createStroke(styleConf)\r\n    });\r\n\r\n    return olStyle;\r\n  },\r\n\r\n  /**\r\n   * Returns an OpenLayers style instance for polygons due to given config.\r\n   *\r\n   * @param  {Object} styleConf  Style config object\r\n   * @return {Style}             OL style instance\r\n   */\r\n  createPolygonStyle(styleConf) {\r\n    let olStyle = OlStyleFactory.createLineStyle(styleConf);\r\n    olStyle.setFill(OlStyleFactory.createFill(styleConf));\r\n\r\n    return olStyle;\r\n  },\r\n\r\n  /**\r\n   * Creates an OL Stroke object due to given config.\r\n   *\r\n   * @param  {Object} styleConf Style config object\r\n   * @return {Stroke}           OL Stroke instance\r\n   */\r\n  createStroke(styleConf) {\r\n    return new Stroke({\r\n      color: styleConf.strokeColor,\r\n      width: styleConf.strokeWidth\r\n    });\r\n  },\r\n\r\n  /**\r\n   * Creates an OL Fill object due to given config.\r\n   *\r\n   * @param  {Object} styleConf Style config object\r\n   * @return {Fill}             OL Fill instance\r\n   */\r\n  createFill(styleConf) {\r\n    return new Fill({\r\n      color: styleConf.fillColor\r\n    });\r\n  }\r\n};\r\n","import axios from \"axios\";\nconst http = axios.create();\n\nexport default http;\n","/* eslint-disable no-prototype-builtins */\nimport TileLayer from \"ol/layer/Tile\";\nimport TileWmsSource from \"ol/source/TileWMS\";\nimport OsmSource from \"ol/source/OSM\";\nimport EsriJSON from \"ol/format/EsriJSON\";\nimport { tile as tileStrategy } from \"ol/loadingstrategy\";\nimport { createXYZ } from \"ol/tilegrid\";\nimport BingMaps from \"ol/source/BingMaps\";\nimport VectorTileLayer from \"ol/layer/VectorTile\";\nimport VectorTileSource from \"ol/source/VectorTile\";\nimport MvtFormat from \"ol/format/MVT\";\nimport GeoJsonFormat from \"ol/format/GeoJSON\";\nimport TopoJsonFormat from \"ol/format/TopoJSON\";\nimport KmlFormat from \"ol/format/KML\";\nimport VectorLayer from \"ol/layer/Vector\";\nimport VectorSource from \"ol/source/Vector\";\nimport ImageWMS from \"ol/source/ImageWMS.js\";\nimport { Image as ImageLayer } from \"ol/layer.js\";\nimport XyzSource from \"ol/source/XYZ\";\nimport { OlStyleFactory } from \"./OlStyle\";\nimport { baseStyleDefs } from \"../style/OlStyleDefs\";\nimport http from \"../services/http\";\n\nimport firebase from \"firebase/app\";\nimport \"firebase/storage\";\n\n/**\n * Factory, which creates OpenLayers layer instances according to a given config\n * object.\n */\nexport const LayerFactory = {\n\n  /**\n   * Maps the format literal of the config to the corresponding OL module.\n   * @type {Object}\n   */\n  formatMapping: {\n    MVT: MvtFormat,\n    GeoJSON: GeoJsonFormat,\n    TopoJSON: TopoJsonFormat,\n    KML: KmlFormat\n  },\n\n  /**\n   * Returns an OpenLayers layer instance due to given config.\n   *\n   * @param  {Object} lConf  Layer config object\n   * @return {ol.layer.Base} OL layer instance\n   */\n  getInstance(lConf) {\n    // apply LID (Layer ID) if not existant\n    if (!lConf.lid) {\n      var now = new Date();\n      lConf.lid = now.getTime();\n    }\n\n    // create correct layer type\n    if (lConf.type === \"WMS\") {\n      return this.createWmsLayer(lConf);\n    } else if (lConf.type === \"WMSTILE\") {\n      return this.createWmsTileLayer(lConf);\n    } else if (lConf.type === \"XYZ\") {\n      return this.createXyzLayer(lConf);\n    } else if (lConf.type === \"OSM\") {\n      return this.createOsmLayer(lConf);\n    } else if (lConf.type === \"BING\") {\n      return this.createBingLayer(lConf);\n    } else if (lConf.type === \"VECTOR\") {\n      return this.createVectorLayer(lConf);\n    } else if (lConf.type === \"VECTORTILE\") {\n      return this.createVectorTileLayer(lConf);\n    } else if (lConf.type === \"ESRI\") {\n      return this.createESRIFeatureService(lConf);\n    } else {\n      return null;\n    }\n  },\n\n  /**\n   * Returns an OpenLayers WMS layer instance due to given config.\n   *\n   * @param  {Object} lConf  Layer config object\n   * @return {ol.layer.Tile} OL WMS layer instance\n   */\n  createWmsLayer(lConf) {\n    const layer = new ImageLayer({\n      name: lConf.name,\n      title: lConf.title,\n      lid: lConf.lid,\n      displayInLayerList: lConf.displayInLayerList,\n      displayInLegend: lConf.displayInLegend,\n      visible: lConf.visible,\n      opacity: lConf.opacity,\n      queryable: lConf.queryable,\n      requiresPois: lConf.requiresPois,\n      ratio: lConf.ratio ? lConf.ratio : 1.5,\n      zIndex: lConf.zIndex,\n      source: new ImageWMS({\n        url: lConf.url,\n        params: {\n          LAYERS: lConf.layers\n        },\n        serverType: lConf.serverType ? lConf.serverType : \"geoserver\",\n        ratio: lConf.ratio,\n        attributions: lConf.attributions\n      })\n    });\n\n    return layer;\n  },\n  /**\n   * Returns an OpenLayers WMS Tile layer instance due to given config.\n   *\n   * @param  {Object} lConf  Layer config object\n   * @return {ol.layer.Tile} OL WMS layer instance\n   */\n  createWmsTileLayer(lConf) {\n    const layer = new TileLayer({\n      name: lConf.name,\n      title: lConf.title,\n      lid: lConf.lid,\n      displayInLayerList: lConf.displayInLayerList,\n      extent: lConf.extent,\n      visible: lConf.visible,\n      opacity: lConf.opacity,\n      preload: lConf.preload ? parseFloat(lConf.preload) : 0, //Parse float is used because it's not possible to add values like Infinity in json config\n      zIndex: lConf.zIndex,\n      source: new TileWmsSource({\n        url: lConf.url,\n        params: {\n          LAYERS: lConf.layers,\n          TILED: lConf.tiled\n        },\n        serverType: lConf.serverType ? lConf.serverType : \"geoserver\",\n        attributions: lConf.attributions\n      })\n    });\n\n    return layer;\n  },\n\n  /**\n   * Returns an XYZ based tile layer instance due to given config.\n   *\n   * @param  {Object} lConf  Layer config object\n   * @return {ol.layer.Tile} OL XYZ layer instance\n   */\n  createXyzLayer(lConf) {\n    const xyzLayer = new TileLayer({\n      name: lConf.name,\n      title: lConf.title,\n      lid: lConf.lid,\n      cascadePrint: lConf.cascadePrint,\n      displayInLayerList: lConf.displayInLayerList,\n      visible: lConf.visible,\n      opacity: lConf.opacity,\n      source: new XyzSource({\n        url: lConf.hasOwnProperty(\"accessToken\")\n          ? lConf.url + \"?access_token=\" + lConf.accessToken\n          : lConf.url,\n        maxZoom: lConf.maxZoom,\n        attributions: lConf.attributions\n      })\n    });\n\n    return xyzLayer;\n  },\n\n  /**\n   * Returns an OpenLayers OSM layer instance due to given config.\n   *\n   * @param  {Object} lConf  Layer config object\n   * @return {ol.layer.Tile} OL OSM layer instance\n   */\n  createOsmLayer(lConf) {\n    const layer = new TileLayer({\n      name: lConf.name,\n      title: lConf.title,\n      lid: lConf.lid,\n      cascadePrint: lConf.cascadePrint,\n      displayInLayerList: lConf.displayInLayerList,\n      visible: lConf.visible,\n      opacity: lConf.opacity,\n      source: new OsmSource({\n        url: lConf.url,\n        maxZoom: lConf.maxZoom\n      })\n    });\n\n    return layer;\n  },\n\n  /**\n   * Returns an OpenLayers BING layer instance due to given config.\n   *\n   * @param  {Object} lConf  Layer config object\n   * @return {ol.layer.Tile} OL BING layer instance\n   */\n  createBingLayer(lConf) {\n    const bingMaps = new BingMaps({\n      key: lConf.accessToken,\n      imagerySet: lConf.imagerySet,\n      maxZoom: lConf.maxZoom\n    });\n    const layer = new TileLayer({\n      name: lConf.name,\n      title: lConf.title,\n      lid: lConf.lid,\n      cascadePrint: lConf.cascadePrint,\n      displayInLayerList: lConf.displayInLayerList,\n      visible: lConf.visible,\n      opacity: lConf.opacity,\n      source: bingMaps\n    });\n\n    return layer;\n  },\n\n  /**\n   * Returns an OpenLayers vector layer instance due to given config.\n   *\n   * @param  {Object} lConf  Layer config object\n   * @return {ol.layer.Vector} OL vector layer instance\n   */\n  createVectorLayer(lConf) {\n\n    const vectorLayer = new VectorLayer({\n      type: lConf.type,\n      name: lConf.name,\n      title: lConf.title,\n      lid: lConf.lid,\n      displayInLayerList: lConf.displayInLayerList,\n      extent: lConf.extent,\n      queryable: lConf.queryable,\n      visible: lConf.visible,\n      opacity: lConf.opacity,\n      zIndex: lConf.zIndex,\n      showInMapillary: lConf.showInMapillary,\n      source: new VectorSource({\n        url: lConf.url,\n        format: new this.formatMapping[lConf.format](lConf.formatConfig),\n        attributions: lConf.attributions\n      }),\n      style:\n        OlStyleFactory.getInstance(lConf.style) ||\n        baseStyleDefs[lConf.styleRef],\n      hoverable: lConf.hoverable,\n      hoverAttribute: lConf.hoverAttribute\n    });\n\n    if (lConf.authUrl) {\n      // Get secure layer url\n      firebase\n        .storage()\n        .ref(lConf.authUrl)\n        .getDownloadURL()\n        .then(url => {\n          vectorLayer.getSource().setUrl(url);\n          vectorLayer.getSource().refresh();\n        });\n    }\n    return vectorLayer;\n  },\n\n  /**\n   * Returns an OpenLayers vector tile layer instance due to given config.\n   *\n   * @param  {Object} lConf  Layer config object\n   * @return {ol.layer.VectorTile} OL vector tile layer instance\n   */\n  createVectorTileLayer(lConf) {\n    const vtLayer = new VectorTileLayer({\n      type: lConf.type,\n      name: lConf.name,\n      title: lConf.title,\n      lid: lConf.lid,\n      displayInLayerList: lConf.displayInLayerList,\n      visible: lConf.visible,\n      opacity: lConf.opacity,\n      source: new VectorTileSource({\n        url: lConf.url,\n        format: new this.formatMapping[lConf.format](),\n        attributions: lConf.attributions\n      }),\n      style:\n        OlStyleFactory.getInstance(lConf.style) ||\n        baseStyleDefs[lConf.styleRef],\n      hoverable: lConf.hoverable,\n      hoverAttribute: lConf.hoverAttribute\n    });\n\n    return vtLayer;\n  },\n\n  /**\n   * Returns an OpenLayers vector tilelayer instance due to given config.\n   *\n   * @param  {Object} lConf  Layer config object\n   * @return {ol.layer.VectorTile} OL vector tile layer instance\n   */\n  createESRIFeatureService(lConf) {\n    const esrijsonFormat = new EsriJSON();\n    const vectorSource = new VectorSource({\n      loader: function(extent, resolution, projection) {\n        const url =\n          lConf.url +\n          lConf.layer +\n          \"/query/?f=json&\" +\n          \"returnGeometry=true&spatialRel=esriSpatialRelIntersects&geometry=\" +\n          encodeURIComponent(\n            '{\"xmin\":' +\n              extent[0] +\n              ',\"ymin\":' +\n              extent[1] +\n              ',\"xmax\":' +\n              extent[2] +\n              ',\"ymax\":' +\n              extent[3] +\n              ',\"spatialReference\":{\"wkid\":102100}}'\n          ) +\n          \"&geometryType=esriGeometryEnvelope&inSR=102100&outFields=*\" +\n          \"&outSR=102100\";\n\n        http.get(url).then(response => {\n          var features = esrijsonFormat.readFeatures(response.data, {\n            featureProjection: projection\n          });\n          if (features.length > 0) {\n            vectorSource.addFeatures(features);\n          }\n        });\n      },\n      strategy: tileStrategy(\n        createXYZ({\n          tileSize: 512\n        })\n      )\n    });\n\n    const layer = new VectorLayer({\n      name: lConf.name,\n      type: lConf.type,\n      title: lConf.title,\n      lid: lConf.lid,\n      zIndex: lConf.zIndex,\n      displayInLayerList: lConf.displayInLayerList,\n      queryable: lConf.queryable,\n      visible: lConf.visible,\n      opacity: lConf.opacity,\n      source: vectorSource,\n      style: baseStyleDefs[lConf.styleRef]\n    });\n\n    return layer;\n  }\n};\n","export function humanize(str) {\n  return str\n    .replace(/^[\\s_]+|[\\s_]+$/g, \"\")\n    .replace(/[_\\s]+/g, \" \")\n    .replace(/^[a-z]/, function(m) {\n      return m.toUpperCase();\n    });\n}\n\nexport function groupBy(items, key) {\n  return items.reduce(\n    (result, item) => ({\n      ...result,\n      [item[key]]: [...(result[item[key]] || []), item]\n    }),\n    {}\n  );\n}\n\nexport function getNestedProperty(obj, key) {\n  return key.split(\".\").reduce(function(o, x) {\n    return typeof o == \"undefined\" || o === null ? o : o[x];\n  }, obj);\n}\n\nexport function addProps(obj, arr, val) {\n  if (typeof arr == \"string\") arr = arr.split(\".\");\n\n  obj[arr[0]] = obj[arr[0]] || {};\n\n  var tmpObj = obj[arr[0]];\n\n  if (arr.length > 1) {\n    arr.shift();\n    addProps(tmpObj, arr, val);\n  } else obj[arr[0]] = val;\n\n  return obj;\n}\n\nexport function numberWithCommas(x) {\n  return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n}\n\nexport function debounce(fn, delay) {\n  let timeoutID = null;\n  return function() {\n    clearTimeout(timeoutID);\n    let args = arguments;\n    let that = this;\n    timeoutID = setTimeout(function() {\n      fn.apply(that, args);\n    }, delay);\n  };\n}\n\nexport function getCurrentDate() {\n  const today = new Date();\n  return (\n    today.getFullYear() + \"-\" + (today.getMonth() + 1) + \"-\" + today.getDate()\n  );\n}\n\nexport function getCurrentTime() {\n  const today = new Date();\n  return today.getHours() + \"-\" + today.getMinutes() + \"-\" + today.getSeconds();\n}\n\n/**\n * Takes a hex value and prepends a zero if it's a single digit.\n * @param {string} hex Hex value to prepend if single digit.\n * @return {string} hex value prepended with zero if it was single digit,\n *     otherwise the same value that was passed in.\n * @hidden\n */\nexport function colorZeroPadding(hex) {\n  return hex.length == 1 ? `0${hex}` : hex;\n}\n\n/**\n * Converts a color from RGB to hex representation.\n * @param {number[]} rgb rgb representation of the color.\n * @return {string} hex representation of the color.\n * @hidden\n */\nexport function rgbArrayToHex(rgb) {\n  const r = rgb[0];\n  const g = rgb[1];\n  const b = rgb[2];\n  if (r != (r & 255) || g != (g & 255) || b != (b & 255)) {\n    throw Error(`\"(${r},${g},${b})\" is not a valid RGB color`);\n  }\n  const hexR = colorZeroPadding(r.toString(16));\n  const hexG = colorZeroPadding(g.toString(16));\n  const hexB = colorZeroPadding(b.toString(16));\n  return `#${hexR}${hexG}${hexB}`;\n}\n\n// helper function to detect a CSS color\n// Taken from Vuetify sources\n// https://github.com/vuetifyjs/vuetify/blob/master/packages/vuetify/src/mixins/colorable.ts\nexport function isCssColor(color) {\n  return !!color && !!color.match(/^(#|(rgb|hsl)a?\\()/);\n}\n","\nimport { DEVICE_PIXEL_RATIO } from \"ol/has\";\nimport { toContext } from \"ol/render\";\nimport olFeature from \"ol/Feature\";\nimport olGeomPoint from \"ol/geom/Point\";\nimport olGeomLineString from \"ol/geom/LineString\";\nimport olGeomPolygon from \"ol/geom/Polygon\";\nimport olLayerImage from \"ol/layer/Image.js\";\nimport olLayerVector from \"ol/layer/Vector.js\";\nimport olLayerLayer from \"ol/layer/Layer.js\";\nimport { Group as LayerGroup } from \"ol/layer.js\";\nimport { extend as olExtend} from \"ol/extent\";\nimport { WFS } from \"ol/format\";\nimport { appendParams as olUriAppendParams } from \"ol/uri.js\";\n\n\n\n\n/**\n * Util for OL layers\n */\n\n/**\n * Returns a set of map layers which matches the given key value pair.\n *\n * @param {String} key - Key to filter layers\n * @param {Object} value - Value to filter layers\n * @param  {ol.Map} olMap  The OL map to search in\n * @return {ol.layer.Base[]} Array of matching layers\n */\nexport function getLayersBy(key, value, olMap) {\n  if (!olMap) {\n    return [];\n  }\n\n  let layerMatches = [];\n  olMap.getLayers().forEach(function(layer) {\n    if (layer.get(key) === value) {\n      layerMatches.push(layer);\n    }\n  });\n\n  return layerMatches;\n}\n\n/**\n * Returns OL Layer type.\n *\n * @param  {ol.layer.Base} Object OL layer\n */\nexport function getLayerType(layer) {\n  let layerType;\n  if (layer instanceof olLayerImage) {\n    layerType = \"WMS\";\n  } else if (layer instanceof olLayerVector) {\n    layerType = \"WFS\";\n  }\n  return layerType;\n}\n\n/**\n * Returns a map layer with the given LID (Layer ID)\n *\n * @param  {String} lid    The LID of the layer to query\n * @param  {ol.Map} olMap  The OL map to search in\n * @return {ol.layer.Base} The OL layer instance or undefined\n */\nexport function getLayerByLid(lid, olMap) {\n  return getLayersBy(\"lid\", lid, olMap)[0];\n}\n\n/**\n * Returns all map layers excluding from group layer\n *\n * @param  {ol.Map} olMap  The OL map to search in\n * @return {ol.layer.Base[]} Array of all map layers\n */\nexport function getAllChildLayers(olMap) {\n  const allLayers = [];\n  olMap\n    .getLayers()\n    .getArray()\n    .forEach(layer => {\n      if (layer instanceof LayerGroup) {\n        const layers = layer.getLayers().getArray();\n        allLayers.push(...layers);\n      } else {\n        allLayers.push(layer);\n      }\n    });\n  return allLayers;\n}\n\n/**\n * Zooms to the given layer's extent.\n * Will only work if the layer has kind of vector source.\n *\n * @param  {ol.layer.Base} vecLayer OL vector layer\n * @param  {ol.Map} olMap           The map to perform the zoom on\n */\nexport function zoomToLayerExtent(vecLayer, olMap) {\n  if (!vecLayer || !vecLayer.getSource().getExtent || !olMap) {\n    return;\n  }\n  const extent = vecLayer.getSource().getExtent();\n  olMap.getView().fit(extent);\n}\n\n/**\n * Creates the WFS serialized string\n *\n * @param  {string} srsName The source coordinate reference system\n * @param  {string} namespace The Geoserver namespace\n * @param  {string} workspace The Geoserver workspace\n * @param  {string} layerName The Layer name\n * @param  {ol.format.filter} filter The Openlayers filter\n *\n */\nexport function wfsRequestParser(\n  srsName,\n  workspace,\n  layerName,\n  filter,\n  viewparams = undefined\n) {\n  const xs = new XMLSerializer();\n  const opt = {\n    srsName: srsName,\n    featurePrefix: workspace,\n    featureTypes: [layerName],\n    outputFormat: \"application/json\",\n    filter: filter\n  };\n  if (viewparams) {\n    opt.viewParams = viewparams.toString();\n  }\n\n  const wfs = new WFS().writeGetFeature(opt);\n  const xmlparser = xs.serializeToString(wfs);\n  return xmlparser;\n}\n\nexport function wfsTransactionParser(\n  featuresToAdd,\n  featuresToUpdate,\n  featuresToDelete,\n  formatGML\n) {\n  const wfs = new WFS();\n  const xml = wfs.writeTransaction(\n    featuresToAdd,\n    featuresToUpdate,\n    featuresToDelete,\n    formatGML\n  );\n  return xml;\n}\n\nexport function readTransactionResponse(data) {\n  const wfs = new WFS();\n  return wfs.readTransactionResponse(data);\n}\n\n/**\n * Get an array of all layers in a group. The group can contain multiple levels\n * of others groups.\n * @param {import(\"ol/layer/Base.js\").default} layer The base layer, mostly a group of layers.\n * @return {Array<import(\"ol/layer/Layer.js\").default<import('ol/source/Source.js').default>>} Layers.\n */\nexport function getFlatLayers(layer) {\n  if (layer instanceof LayerGroup) {\n    const sublayers = /** @type {import(\"ol/layer/Layer.js\").default<import('ol/source/Source.js').default>[]} */ (layer\n      .getLayers()\n      .getArray());\n    const hasGroupLayer = sublayers.some(\n      sublayer => sublayer instanceof LayerGroup\n    );\n    if (!hasGroupLayer) {\n      return sublayers.slice();\n    }\n  }\n\n  return getFlatLayers_(layer, [], undefined);\n}\n\n/**\n * Get an array of all layers in a group. The group can contain multiple levels\n * of others groups. When we flatten a group, we get the child layers.\n * If opacity is defined on the group, this value is lost.\n * Computed opacity is a custom 'back-up' value that contains\n * the calculated value of all ancestors and the given layer.\n * @param {import(\"ol/layer/Base.js\").default} layer The base layer, mostly a group of layers.\n * @param {olLayerLayer<import('ol/source/Source.js').default>[]} array An array to add layers.\n * @param {number|undefined} computedOpacity Opacity inherited from ancestor layer groups.\n * @return {olLayerLayer<import('ol/source/Source.js').default>[]} Layers.\n * @private\n */\nexport function getFlatLayers_(layer, array, computedOpacity) {\n  const opacity = layer.getOpacity();\n  if (computedOpacity !== undefined) {\n    computedOpacity *= opacity;\n  } else {\n    computedOpacity = opacity;\n  }\n  if (layer instanceof LayerGroup) {\n    const sublayers = layer.getLayers();\n    sublayers.forEach(l => {\n      getFlatLayers_(l, array, computedOpacity);\n    });\n  } else if (layer instanceof olLayerLayer) {\n    if (!array.includes(layer)) {\n      layer.set(\"inheritedOpacity\", computedOpacity, true);\n      array.push(layer);\n    }\n  }\n  return array;\n}\n\n/**\n * Gets teh active baselayer if there\n * is one activated otherwise it will return an empty array.\n * @param  {ol.Map} olMap           The map to perform the search on.\n * @return {Array<import(\"ol/layer/Layer.js\").default<import('ol/source/Source.js').default>>} Layers.\n */\n\nexport function getActiveBaseLayer(map) {\n  const activeBaselayer = map\n    .getLayers()\n    .getArray()\n    .filter(groupLayer => {\n      return groupLayer.get(\"name\") === \"backgroundLayers\";\n    })[0]\n    .getLayers()\n    .getArray()\n    .filter(layer => {\n      return layer.getVisible() === true;\n    });\n  return activeBaselayer;\n}\n\n\n/**\n * Get the WMTS legend URL for the given layer.\n * @param {import(\"ol/layer/Tile.js\").default} layer Tile layer as returned by the\n * layerHelper service.\n * @return {string|undefined} The legend URL or undefined.\n */\nexport function getWMTSLegendURL(layer) {\n  // FIXME case of multiple styles ?  case of multiple legendUrl ?\n  let url;\n  const styles = layer.get(\"capabilitiesStyles\");\n  if (styles !== undefined) {\n    const legendURL = styles[0].legendURL;\n    if (legendURL !== undefined) {\n      url = legendURL[0].href;\n    }\n  }\n  return url;\n}\n\n/**\n * Get the WMS legend URL for the given node.\n * @param {string|undefined} url The base url of the wms service.\n * @param {string} layerName The name of a wms layer.\n * @param {number=} opt_scale A scale.\n * @param {string=} opt_legendRule rule parameters to add to the returned URL.\n * @param {number=} opt_legendWidth the legend width.\n * @param {number=} opt_legendHeight the legend height.\n * @param {string=} opt_servertype the OpenLayers server type.\n * @param {number=} opt_dpi the DPI.\n * @param {number[]=} opt_bbox the bbox.\n * @param {string=} opt_srs The projection code.\n * @param {Object<string, string>=} opt_additionalQueryString Additional query string parameters.\n * @return {string|undefined} The legend URL or undefined.\n */\nexport function getWMSLegendURL(\n  url,\n  layerName,\n  opt_scale,\n  opt_legendRule,\n  opt_legendWidth,\n  opt_legendHeight,\n  opt_servertype,\n  opt_dpi,\n  opt_bbox,\n  opt_srs,\n  opt_additionalQueryString,\n  opt_language\n) {\n  if (!url) {\n    return undefined;\n  }\n  /** @type {Object<string, string|boolean|number>} */\n  const queryString = {\n    FORMAT: \"image/png\",\n    TRANSPARENT: true,\n    SERVICE: \"WMS\",\n    VERSION: \"1.1.1\",\n    REQUEST: \"GetLegendGraphic\",\n    LAYER: layerName\n  };\n  if (opt_scale !== undefined) {\n    queryString.SCALE = opt_scale;\n  }\n  if (opt_language) {\n    queryString.LANGUAGE = opt_language;\n  }\n  if (opt_legendRule !== undefined) {\n    queryString.RULE = opt_legendRule;\n    if (opt_legendWidth !== undefined) {\n      queryString.WIDTH = opt_legendWidth;\n    }\n    if (opt_legendHeight !== undefined) {\n      queryString.HEIGHT = opt_legendHeight;\n    }\n  }\n  if (opt_servertype == \"qgis\") {\n    if (opt_dpi != undefined) {\n      queryString.DPI = opt_dpi;\n    }\n    if (\n      opt_bbox != undefined &&\n      opt_srs != undefined &&\n      opt_scale != undefined &&\n      opt_dpi != undefined &&\n      opt_legendRule == undefined\n    ) {\n      queryString.BBOX = opt_bbox.join(\",\");\n      queryString.SRS = opt_srs;\n      queryString.WIDTH = Math.round(\n        ((opt_bbox[2] - opt_bbox[0]) / opt_scale) * 39.37 * opt_dpi\n      );\n      queryString.HEIGHT = Math.round(\n        ((opt_bbox[3] - opt_bbox[1]) / opt_scale) * 39.37 * opt_dpi\n      );\n    }\n  }\n  if (opt_additionalQueryString) {\n    Object.assign(queryString, opt_additionalQueryString);\n  }\n  return olUriAppendParams(url, queryString);\n}\n\n\n/** Get the image for a style\n * You can provide in options:\n * - a feature width a style\n * - or a feature that will use the legend style function\n * - or properties and a geometry type that will use the legend style function\n * - or a style and a geometry type\n * @param {*} options\n *  @param {ol.Feature} options.feature a feature to draw\n *  @param {ol.style.Style} options.style the style to use if no feature is provided\n *  @param {*} options.properties properties to use with a style function\n *  @param {string} options.typeGeom type geom to draw with the style or the properties\n * @param {Canvas|undefined} canvas a canvas to draw in\n * @param {int|undefined} row row number to draw in canvas\n * @return {CanvasElement}\n */\nexport function getStyleImage (options, theCanvas, row) {\n  options = options || {};\n  var size = [40, 25];\n  var margin = 10;\n  var width = size[0] + 2 * margin;\n  var height = size[1] + 2 * margin;\n  var canvas = theCanvas;\n  var ratio = DEVICE_PIXEL_RATIO;\n  if (!canvas) {\n    canvas = document.createElement(\"canvas\");\n    canvas.width = width * ratio;\n    canvas.height = height * ratio;\n  }\n\n  var ctx = canvas.getContext(\"2d\");\n  ctx.save();\n  var vectorContext = toContext(ctx);\n\n  var typeGeom = options.typeGeom;\n  var style;\n  var feature = options.feature;\n  if (!feature && options.properties && typeGeom) {\n    if (/Point/.test(typeGeom))\n      feature = new olFeature(new olGeomPoint([0, 0]));\n    else if (/LineString/.test(typeGeom))\n      feature = new olFeature(new olGeomLineString([0, 0]));\n    else feature = new olFeature(new olGeomPolygon([[0, 0]]));\n    feature.setProperties(options.properties);\n  }\n  if (feature) {\n    style = options.style || feature.getStyle();\n    if (typeof style === \"function\") style = style(feature);\n    if (!style) {\n      style = typeof style === \"function\" ? style(feature) : style || [];\n    }\n    typeGeom = feature.getGeometry().getType();\n  } else {\n    style = options.style;\n  }\n  if (!(style instanceof Array)) style = [style];\n\n  var cx = width / 2;\n  var cy = height / 2;\n  var sx = size[0] / 2;\n  var sy = size[1] / 2;\n  var i, s;\n  // Get point offset\n  if (typeGeom === \"Point\") {\n    var extent = null;\n    for (i = 0; (s = style[i]); i++) {\n      var img = s.getImage();\n      if (img && img.getAnchor) {\n        var anchor = img.getAnchor();\n        var si = img.getSize();\n        var dx = anchor[0] - si[0];\n        var dy = anchor[1] - si[1];\n        if (!extent) {\n          extent = [dx, dy, dx + si[0], dy + si[1]];\n        } else {\n          olExtend(extent, [dx, dy, dx + si[0], dy + si[1]]);\n        }\n      }\n    }\n    if (extent) {\n      cx = cx + (extent[2] + extent[0]) / 2;\n      cy = cy + (extent[3] + extent[1]) / 2;\n    }\n  }\n\n  // Draw image\n  cy += theCanvas ? row * height : 0;\n  for (i = 0; (s = style[i]); i++) {\n    vectorContext.setStyle(s);\n    switch (typeGeom) {\n      case olGeomPoint:\n      case \"Point\":\n        vectorContext.drawGeometry(new olGeomPoint([cx, cy]));\n        break;\n      case olGeomLineString:\n      case \"LineString\":\n        ctx.save();\n        ctx.rect(margin * ratio, 0, size[0] * ratio, canvas.height);\n        ctx.clip();\n        vectorContext.drawGeometry(\n          new olGeomLineString([\n            [cx - sx, cy],\n            [cx + sx, cy]\n          ])\n        );\n        ctx.restore();\n        break;\n      case olGeomPolygon:\n      case \"Polygon\":\n        vectorContext.drawGeometry(\n          new olGeomPolygon([\n            [\n              [cx - sx, cy - sy],\n              [cx + sx, cy - sy],\n              [cx + sx, cy + sy],\n              [cx - sx, cy + sy],\n              [cx - sx, cy - sy]\n            ]\n          ])\n        );\n        break;\n    }\n  }\n\n  ctx.restore();\n}\n\n\n\n","import Projection from \"ol/proj/Projection\";\nimport TileGrid from \"ol/tilegrid/TileGrid\";\nimport Feature from \"ol/Feature\";\nimport Point from \"ol/geom/Point\";\nimport Vector from \"ol/source/Vector\";\nimport GeoJSON from \"ol/format/GeoJSON\";\nimport { getTopLeft, getBottomLeft } from \"ol/extent\";\nimport WKT from \"ol/format/WKT\";\nimport { getArea } from \"ol/sphere\";\n\nexport function isWithinVisibleScales(scale, maxScale, minScale) {\n  if (maxScale || minScale) {\n    // Alter 1: maxscale and minscale\n    if (maxScale && minScale) {\n      if (scale > maxScale && scale < minScale) {\n        return true;\n      }\n    } else if (maxScale) {\n      // Alter 2: only maxscale\n      if (scale > maxScale) {\n        return true;\n      }\n    } else if (minScale) {\n      // Alter 3: only minscale\n      if (scale < minScale) {\n        return true;\n      }\n    }\n  } else {\n    // Alter 4: no scale limit\n    return true;\n  }\n  return false;\n}\n\nexport function customProjection(projectionCode, extent) {\n  return new Projection({\n    code: projectionCode,\n    extent\n  });\n}\n\nexport function tileGrid(settings, defaultSettings = {}) {\n  const tileGridSettings = Object.assign({}, defaultSettings, settings);\n  const extent = tileGridSettings.extent;\n  tileGridSettings.origin =\n    tileGridSettings.alignBottomLeft === false\n      ? getTopLeft(extent)\n      : getBottomLeft(extent);\n  return new TileGrid(tileGridSettings);\n}\n\nexport function checkZoomChange(resolution, currentResolution) {\n  if (resolution !== currentResolution) {\n    return true;\n  }\n\n  return false;\n}\n\nexport function createPointFeature(coordinate, style) {\n  const feature = new Feature({\n    geometry: new Point(coordinate)\n  });\n  feature.setStyle(style);\n  return feature;\n}\n\nexport function geojsonToFeature(obj, options) {\n  const vectorSource = new Vector({\n    features: new GeoJSON().readFeatures(obj, options)\n  });\n  return vectorSource.getFeatures();\n}\n\nexport function findClosestFeatureToCoordinate(features, coordinate) {\n  let vectorSource;\n  let nearestFeature;\n  if (Array.isArray(features) && features.length > 0 && features[0] instanceof Feature) {\n    vectorSource = new Vector({\n      features: features\n    })\n  } else if (features instanceof Vector) {\n    // In case vector is passed\n    vectorSource = features;\n  }\n  if (vectorSource) {\n    nearestFeature = vectorSource.getClosestFeatureToCoordinate(coordinate);\n  }\n  return nearestFeature;\n}\n\nexport function featuresToGeojson(features, sourceProjection) {\n  const format = new GeoJSON({ featureProjection: sourceProjection });\n  const json = format.writeFeatures(features);\n  return json;\n}\n\nexport function wktToFeature(wkt, srsName) {\n  const format = new WKT();\n  const feature = format.readFeature(wkt, {\n    dataProjection: srsName,\n    featureProjection: srsName\n  });\n  return feature;\n}\n\nexport function getCenter(geometry) {\n  const type = geometry.getType();\n  let center;\n  switch (type) {\n    case \"Polygon\":\n      center = geometry.getInteriorPoint().getCoordinates();\n      break;\n    case \"MultiPolygon\":\n      center = geometry.getInteriorPoints().getFirstCoordinate();\n      break;\n    case \"Point\":\n      center = geometry.getCoordinates();\n      break;\n    case \"MultiPoint\":\n      center = geometry[0].getCoordinates();\n      break;\n    case \"LineString\":\n      center = geometry.getCoordinateAt(0.5);\n      break;\n    case \"MultiLineString\":\n      center = geometry.getLineStrings()[0].getCoordinateAt(0.5);\n      break;\n    case \"Circle\":\n      center = geometry.getCenter();\n      break;\n    default:\n      break;\n  }\n  return center;\n}\n\nexport function getPolygonArea(polygon) {\n  const type = polygon.getType();\n  let output = \"\";\n  if (type === \"Polygon\" || type === \"MultiPolygon\") {\n    const area = getArea(polygon);\n    output = `${Math.round((area / 1000000) * 100) / 100} km²`;\n  }\n  return output;\n}\n\nexport function resolutionToScale(resolution, projection) {\n  const dpi = 25.4 / 0.28;\n  const mpu = projection.getMetersPerUnit();\n  let scale = resolution * mpu * 39.37 * dpi;\n  scale = Math.round(scale);\n  return scale;\n}\n\nexport function scaleToResolution(scale, projection) {\n  const dpi = 25.4 / 0.28;\n  const mpu = projection.getMetersPerUnit();\n  const resolution = scale / (mpu * 39.37 * dpi);\n  return resolution;\n}\n\nexport function flyTo(destination, map, done) {\n  const duration = 2000;\n  const view = map.getView();\n  const zoom = view.getZoom();\n  let parts = 2;\n  var called = false;\n  function callback(complete) {\n    --parts;\n    if (called) {\n      return;\n    }\n    if (parts === 0 || !complete) {\n      called = true;\n      done(complete);\n    }\n  }\n  view.animate(\n    {\n      center: destination,\n      duration: duration\n    },\n    callback\n  );\n  view.animate(\n    {\n      zoom: zoom - 1,\n      duration: duration / 2\n    },\n    {\n      zoom: zoom,\n      duration: duration / 2\n    },\n    callback\n  );\n}\n\n\n// Converts from degrees to radians.\nexport function toRadians(degrees) {\n  return degrees * Math.PI / 180;\n}\n\n// Converts from radians to degrees.\nexport function toDegrees(radians) {\n  return radians * 180 / Math.PI;\n}\n\n\nexport function calculateBearing(startLat, startLng, destLat, destLng){\n  startLat = toRadians(startLat);\n  startLng = toRadians(startLng);\n  destLat = toRadians(destLat);\n  destLng = toRadians(destLng);\n\n  const y = Math.sin(destLng - startLng) * Math.cos(destLat);\n  const x = Math.cos(startLat) * Math.sin(destLat) -\n        Math.sin(startLat) * Math.cos(destLat) * Math.cos(destLng - startLng);\n  let brng = Math.atan2(y, x);\n      brng = toDegrees(brng);\n  return (brng + 360) % 360;\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{ref:\"popup\",staticClass:\"ol-popup mx-auto\",attrs:{\"max-width\":\"344\",\"width\":\"250\"}},[_c('v-toolbar',{attrs:{\"color\":\"green\",\"flat\":\"\",\"height\":\"50\",\"dark\":\"\"}},[_c('v-toolbar-title',[_vm._v(_vm._s(_vm.title ? _vm.title : \"\"))]),_c('v-spacer'),_vm._t(\"close\")],2),_c('v-card-text',{staticClass:\"pb-0\"},[_vm._t(\"body\")],2),_c('v-card-actions',{staticClass:\"pt-0\"},[_c('v-spacer'),_vm._t(\"actions\")],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-card ref=\"popup\" max-width=\"344\" width=\"250\" class=\"ol-popup mx-auto\">\n    <v-toolbar color=\"green\" flat height=\"50\" dark>\n      <v-toolbar-title>{{\n        title ? title : \"\"\n      }}</v-toolbar-title>\n      <v-spacer></v-spacer>\n      <slot name=\"close\"></slot>\n    </v-toolbar>\n    <v-card-text class=\"pb-0\">\n      <slot name=\"body\"></slot>\n    </v-card-text>\n    <v-card-actions class=\"pt-0\">\n      <v-spacer></v-spacer>\n      <slot name=\"actions\"></slot>\n    </v-card-actions>\n  </v-card>\n</template>\n<script>\nexport default {\n  name: \"overlay-popup\",\n  props: {\n    title: { type: String, required: false }\n  }\n};\n</script>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Overlay.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Overlay.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Overlay.vue?vue&type=template&id=560e62ce&\"\nimport script from \"./Overlay.vue?vue&type=script&lang=js&\"\nexport * from \"./Overlay.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VCard,VCardActions,VCardText,VSpacer,VToolbar,VToolbarTitle})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-expansion-panels',{staticClass:\"elevation-3\",staticStyle:{\"position\":\"absolute\",\"bottom\":\"35px\",\"right\":\"10px\",\"maxWidth\":\"200px\"},attrs:{\"dark\":\"\"}},[_c('v-expansion-panel',{staticStyle:{\"background-color\":\"white\"}},[_c('v-expansion-panel-header',{scopedSlots:_vm._u([{key:\"actions\",fn:function(){return [_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"$vuetify.icons.expand\")])]},proxy:true}])},[_vm._v(\" Legend \")]),_c('v-expansion-panel-content',{staticStyle:{\"max-height\":\"400px\"},attrs:{\"eager\":\"\"}},[_vm._l((_vm.layers),function(item,index){return [_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(item.getVisible() === true),expression:\"item.getVisible() === true\"}],key:index,staticStyle:{\"padding-right\":\"10px\"}},[(_vm.getLayerType(item) === 'WMS')?[_c('p',{staticClass:\"grey--text text--darken-2 pb-0 mb-1 mt-2 subtitle-2\"},[_vm._v(\" \"+_vm._s(item.get(\"name\"))+\" \")]),_c('v-divider'),_vm._l((item\n                .getSource()\n                .getParams()\n                .LAYERS.split(',')),function(layerName,index2){return [_c('div',{key:index2},[_c('img',{staticClass:\"white--text mt-0 pt-0\",staticStyle:{\"max-width\":\"100%\"},attrs:{\"src\":_vm.getWMSLegendImageUrl(item, layerName)}}),_c('br')])]})]:_vm._e(),[_c('v-container',[_c('v-row',[_c('img',{staticClass:\"white--text ml-2 mt-0 pt-0 mr-5\",staticStyle:{\"max-width\":\"100%\"},attrs:{\"src\":_vm.getVectorLayerImageUrl(item)}}),_c('span',{staticClass:\"grey--text text--darken-2 pb-0 mb-1 mt-2 subtitle-2\"},[_vm._v(_vm._s(item.get(\"name\"))+\" \")])])],1)]],2)]}),_vm._l((_vm.mapillaryIcons),function(item,index){return [(\n            !item.removeWithLayer ||\n              (_vm.mapillaryLayer &&\n                _vm.mapillaryLayer.getVisible() === true &&\n                item.removeWithLayer)\n          )?_c('div',{key:index + 100,staticStyle:{\"padding-right\":\"10px\"}},[_c('v-container',{staticClass:\"py-1\"},[_c('v-row',[_c('img',{staticClass:\"white--text\\n                mt-0 pt-0 mr-2\",class:{ 'mr-3': item.icon === 'mapillary-location' },staticStyle:{\"max-width\":\"30%\"},attrs:{\"src\":_vm.getVectorLayerImageUrl(item.icon)}}),_c('span',{staticClass:\"grey--text text--darken-2 pb-0 pt-1 mb-1 mt-2 subtitle-2\"},[_vm._v(_vm._s(item.title)+\" \")])])],1)],1):_vm._e()]})],2)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { EventBus } from \"../EventBus\";\n\n/**\n * Mixin, which binds the OL map to the target component.\n * Executes the onMapBound function of the target component, if available.\n */\nexport const Mapable = {\n  created() {\n    // if the OL map is not present in the vue prototype we have to wait until\n    // it is mounted. Otherwise apply OL map as member var.\n    if (!this.$map) {\n      // apply OL map once OL map is mounted\n      EventBus.$on(\"ol-map-mounted\", olMap => {\n        // make the OL map accesible in this component\n        this.map = olMap;\n\n        if (this.onMapBound) {\n          this.onMapBound();\n        }\n      });\n    } else {\n      // OL map is already mounted --> directly apply as member\n      this.map = this.$map;\n      if (this.onMapBound) {\n        this.onMapBound();\n      }\n    }\n  }\n};\n","<template>\n  <v-expansion-panels\n    class=\"elevation-3\"\n    dark\n    style=\"position:absolute;bottom:35px;right:10px;maxWidth: 200px;\"\n  >\n    <v-expansion-panel style=\"background-color: white;\">\n      <v-expansion-panel-header>\n        Legend\n        <template v-slot:actions>\n          <v-icon small>$vuetify.icons.expand</v-icon>\n        </template>\n      </v-expansion-panel-header>\n      <v-expansion-panel-content eager style=\"max-height:400px;\">\n        <template v-for=\"(item, index) in layers\">\n          <div\n            :key=\"index\"\n            v-show=\"item.getVisible() === true\"\n            style=\"padding-right:10px;\"\n          >\n            <template v-if=\"getLayerType(item) === 'WMS'\">\n              <p class=\"grey--text text--darken-2 pb-0 mb-1 mt-2 subtitle-2\">\n                {{ item.get(\"name\") }}\n              </p>\n              <v-divider></v-divider>\n              <!-- Parent layer can have multiple child layers, so we need to loop through -->\n              <template\n                v-for=\"(layerName, index2) in item\n                  .getSource()\n                  .getParams()\n                  .LAYERS.split(',')\"\n              >\n                <div :key=\"index2\">\n                  <img\n                    style=\"max-width: 100%;\"\n                    :src=\"getWMSLegendImageUrl(item, layerName)\"\n                    class=\"white--text mt-0 pt-0\"\n                  />\n                  <br />\n                </div>\n              </template>\n            </template>\n\n            <template v-show=\"getLayerType(item) === 'WFS'\">\n              <v-container>\n                <v-row>\n                  <img\n                    style=\"max-width: 100%;\"\n                    :src=\"getVectorLayerImageUrl(item)\"\n                    class=\"white--text ml-2 mt-0 pt-0 mr-5\"\n                  />\n                  <span\n                    class=\"grey--text text--darken-2 pb-0 mb-1 mt-2 subtitle-2\"\n                    >{{ item.get(\"name\") }}\n                  </span>\n                </v-row>\n              </v-container>\n            </template>\n          </div>\n        </template>\n        <!-- FOR MAPILLARY LAYERS -->\n        <template v-for=\"(item, index) in mapillaryIcons\">\n          <div\n            :key=\"index + 100\"\n            style=\"padding-right:10px;\"\n            v-if=\"\n              !item.removeWithLayer ||\n                (mapillaryLayer &&\n                  mapillaryLayer.getVisible() === true &&\n                  item.removeWithLayer)\n            \"\n          >\n            <v-container class=\"py-1\">\n              <v-row>\n                <img\n                  :class=\"{ 'mr-3': item.icon === 'mapillary-location' }\"\n                  style=\"max-width:30%;\"\n                  :src=\"getVectorLayerImageUrl(item.icon)\"\n                  class=\"white--text\n                  mt-0 pt-0 mr-2\"\n                />\n                <span\n                  class=\"grey--text text--darken-2 pb-0 pt-1 mb-1 mt-2 subtitle-2\"\n                  >{{ item.title }}\n                </span>\n              </v-row>\n            </v-container>\n          </div></template\n        >\n      </v-expansion-panel-content>\n    </v-expansion-panel>\n  </v-expansion-panels>\n</template>\n<script>\nimport { Mapable } from \"../../../../mixins/Mapable\";\nimport { getAllChildLayers, getWMSLegendURL } from \"../../../../utils/Layer\";\n// import { getStyleImage } from \"../../../../utils/Legend\";\nimport { getLayerType, getStyleImage } from \"../../../../utils/Layer\";\nimport { EventBus } from \"../../../../EventBus\";\n\nexport default {\n  mixins: [Mapable],\n  name: \"map-legend\",\n  data: () => ({\n    layers: [],\n    mapillaryIcons: [\n      { icon: \"mapillary-location\", title: \"Current Location\" },\n      {\n        icon: \"mapillary-active\",\n        title: \"Selected Sequence\",\n        removeWithLayer: true\n      },\n      {\n        icon: \"mapillary-public\",\n        title: \"Other Sequences\",\n        removeWithLayer: true\n      }\n    ],\n    mapillaryLayer: null\n  }),\n  methods: {\n    getLayerType,\n    /**\n     * This function is executed, after the map is bound (see mixins/Mapable)\n     */\n    onMapBound() {\n      const me = this;\n      const allLayers = getAllChildLayers(me.map);\n      me.layers = allLayers.filter(\n        layer =>\n          (layer.getSource().serverType_ === \"geoserver\" ||\n          [\"VECTOR\", \"ESRI\"].includes(layer.get(\"type\"))) &&\n          layer.get(\"displayInLegend\") !== false\n      );\n    },\n    getWMSLegendImageUrl(item, layerName) {\n      let layerUrl = item.getSource().getUrl();\n      if (layerUrl.startsWith(\"/\")) {\n        layerUrl = window.location.origin + layerUrl;\n      }\n      const legedUrl = getWMSLegendURL(\n        layerUrl,\n        layerName,\n        undefined,\n        undefined,\n        undefined,\n        undefined,\n        item.getSource().serverType_,\n        120,\n        undefined,\n        undefined,\n        undefined,\n        \"en\"\n      );\n      return legedUrl;\n    },\n    getVectorLayerImageUrl(item) {\n      let name;\n      if (typeof item === \"object\") {\n        name = item.get(\"name\");\n      } else {\n        name = item;\n      }\n      const url = `img/vector-legend-icon/${name}.PNG`;\n      return url;\n    },\n    renderVectorLegendImage(item, ref) {\n      setTimeout(() => {\n        getStyleImage(\n          {\n            typeGeom: item\n              .getSource()\n              .getFeatures()[0]\n              .getGeometry()\n              .getType(),\n            style: item.getStyle(),\n            feature: item.getSource().getFeatures()[0]\n          },\n          this.$refs[ref][0]\n        );\n      }, 3000);\n    }\n  },\n  mounted() {\n    EventBus.$on(\"mapillaryLayerAdded\", layer => {\n      this.mapillaryLayer = layer;\n    });\n  }\n};\n</script>\n<style lang=\"css\" scoped>\n.v-expansion-panel-header {\n  min-height: 30px;\n  padding: 5px;\n  background-color: #4caf50;\n}\n\n.v-expansion-panel--active>.v-expansion-panel-header {\n    min-height: 30px;\n}\n\n.v-expansion-panel-content >>> .v-expansion-panel-content__wrap {\n  padding: 2px 0px 0px 5px;\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Legend.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Legend.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Legend.vue?vue&type=template&id=486bc436&scoped=true&\"\nimport script from \"./Legend.vue?vue&type=script&lang=js&\"\nexport * from \"./Legend.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Legend.vue?vue&type=style&index=0&id=486bc436&lang=css&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"486bc436\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VExpansionPanel } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelContent } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelHeader } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanels } from 'vuetify/lib/components/VExpansionPanel';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRow } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VContainer,VDivider,VExpansionPanel,VExpansionPanelContent,VExpansionPanelHeader,VExpansionPanels,VIcon,VRow})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.backgroundLayers.length > 0)?_c('v-speed-dial',{staticStyle:{\"position\":\"absolute\",\"bottom\":\"30px\",\"left\":\"30px\",\"z-index\":\"2\"},attrs:{\"direction\":\"top\",\"transition\":\"slide-y-reverse-transition\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(){return _vm._l((_vm.backgroundLayers),function(item,index){return _c('v-card',{directives:[{name:\"show\",rawName:\"v-show\",value:(item.getVisible() === true),expression:\"item.getVisible() === true\"}],key:index,staticClass:\"mx-auto pa-1 elevation-5\",attrs:{\"max-width\":\"80\"},on:{\"click\":function($event){return _vm.selectBaselayer(item)}}},[_c('v-img',{staticClass:\"white--text\",attrs:{\"src\":require((\"../../../../assets/img/background-layers/\" + (item.get(\n            'name'\n          )) + \".png\")),\"height\":\"75\",\"gradient\":\"to bottom, rgba(0,0,0,.2), rgba(0,0,0,.5)\"}},[_c('v-card-title',{staticClass:\"fill-height align-end pl-1 pr-0 mb-0 pb-0 caption\",staticStyle:{\"font-size\":\"10px\"}},[_vm._v(_vm._s(item.get(\"name\")))])],1)],1)})},proxy:true}],null,false,3386566106)},[_vm._l((_vm.backgroundLayers),function(item,index){return [_c('v-card',{directives:[{name:\"show\",rawName:\"v-show\",value:(item.getVisible() === false),expression:\"item.getVisible() === false\"}],key:index,staticClass:\"mx-auto  mt-2 pa-1\",attrs:{\"max-width\":\"80\"},on:{\"click\":function($event){return _vm.selectBaselayer(item)}}},[_c('v-img',{staticClass:\"white--text\",attrs:{\"src\":require((\"../../../../assets/img/background-layers/\" + (item.get(\n            'name'\n          )) + \".png\")),\"height\":\"75\",\"gradient\":\"to bottom, rgba(0,0,0,.1), rgba(0,0,0,.5)\"}},[_c('v-card-title',{staticClass:\"fill-height align-end pl-1 pr-0 mb-0 pb-0 caption\",staticStyle:{\"font-size\":\"10px\"}},[_vm._v(_vm._s(item.get(\"name\")))])],1)],1)]})],2):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-speed-dial\n    direction=\"top\"\n    style=\"position:absolute;bottom:30px;left:30px;z-index:2;\"\n    transition=\"slide-y-reverse-transition\"\n    v-if=\"backgroundLayers.length > 0\"\n  >\n    <template v-slot:activator>\n      <v-card\n        v-for=\"(item, index) in backgroundLayers\"\n        max-width=\"80\"\n        class=\"mx-auto pa-1 elevation-5\"\n        :key=\"index\"\n        v-show=\"item.getVisible() === true\"\n        @click=\"selectBaselayer(item)\"\n      >\n        <v-img\n          :src=\"\n            require(`../../../../assets/img/background-layers/${item.get(\n              'name'\n            )}.png`)\n          \"\n          class=\"white--text\"\n          height=\"75\"\n          gradient=\"to bottom, rgba(0,0,0,.2), rgba(0,0,0,.5)\"\n        >\n          <v-card-title\n            class=\"fill-height align-end pl-1 pr-0 mb-0 pb-0 caption\"\n            style=\"font-size: 10px;\"\n            >{{ item.get(\"name\") }}</v-card-title\n          >\n        </v-img>\n      </v-card>\n    </template>\n    <template v-for=\"(item, index) in backgroundLayers\">\n      <v-card\n        :key=\"index\"\n        max-width=\"80\"\n        v-show=\"item.getVisible() === false\"\n        @click=\"selectBaselayer(item)\"\n        class=\"mx-auto  mt-2 pa-1\"\n      >\n        <v-img\n          :src=\"\n            require(`../../../../assets/img/background-layers/${item.get(\n              'name'\n            )}.png`)\n          \"\n          class=\"white--text\"\n          height=\"75\"\n          gradient=\"to bottom, rgba(0,0,0,.1), rgba(0,0,0,.5)\"\n        >\n          <v-card-title\n            class=\"fill-height align-end pl-1 pr-0 mb-0 pb-0 caption\"\n            style=\"font-size: 10px;\"\n            >{{ item.get(\"name\") }}</v-card-title\n          >\n        </v-img>\n      </v-card>\n    </template>\n  </v-speed-dial>\n</template>\n\n<script>\nimport { Mapable } from \"../../../../mixins/Mapable\";\nimport { Group } from \"ol/layer.js\";\nexport default {\n  mixins: [Mapable],\n  name: \"background-switcher\",\n  data: () => ({\n    backgroundLayers: []\n  }),\n  methods: {\n    /**\n     * This function is executed, after the map is bound (see mixins/Mapable)\n     */\n    onMapBound() {\n      const me = this;\n\n      me.map\n        .getLayers()\n        .getArray()\n        .forEach(layer => {\n          if (\n            layer instanceof Group &&\n            layer.get(\"name\") === \"backgroundLayers\"\n          ) {\n            me.backgroundLayers = layer.getLayers().getArray();\n          }\n        });\n    },\n    selectBaselayer(item) {\n      const me = this;\n      me.backgroundLayers.forEach(layer => {\n        layer.setVisible(false);\n      });\n      item.setVisible(true);\n    }\n  }\n};\n</script>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BackgroundSwitcher.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BackgroundSwitcher.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BackgroundSwitcher.vue?vue&type=template&id=a44dd5c2&\"\nimport script from \"./BackgroundSwitcher.vue?vue&type=script&lang=js&\"\nexport * from \"./BackgroundSwitcher.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VSpeedDial } from 'vuetify/lib/components/VSpeedDial';\ninstallComponents(component, {VCard,VCardTitle,VImg,VSpeedDial})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-tooltip',{attrs:{\"left\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-btn',_vm._g({staticClass:\"mx-2 zoom-buttons\",staticStyle:{\"top\":\"80px\"},attrs:{\"fab\":\"\",\"dark\":\"\",\"x-small\":\"\",\"color\":\"green\"},on:{\"click\":function($event){return _vm.zoom(1)}}},on),[_c('span',{staticStyle:{\"font-size\":\"22px\"}},[_vm._v(\"+\")])])]}}])},[_c('span',[_vm._v(\"Zoom In\")])]),_c('v-tooltip',{attrs:{\"left\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-btn',_vm._g({staticClass:\"mx-2 zoom-buttons\",staticStyle:{\"top\":\"120px\"},attrs:{\"fab\":\"\",\"dark\":\"\",\"x-small\":\"\",\"color\":\"green\"},on:{\"click\":function($event){return _vm.zoom(-1)}}},on),[_c('span',{staticStyle:{\"font-size\":\"22px\"}},[_vm._v(\"−\")])])]}}])},[_c('span',[_vm._v(\"Zoom Out\")])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <v-tooltip left>\n      <template v-slot:activator=\"{ on }\">\n        <v-btn\n          class=\"mx-2 zoom-buttons\"\n          style=\"top:80px;\"\n          v-on=\"on\"\n          fab\n          dark\n          x-small\n          color=\"green\"\n          @click=\"zoom(1)\"\n        >\n          <span style=\"font-size:22px;\">+</span>\n        </v-btn>\n      </template>\n      <span>Zoom In</span>\n    </v-tooltip>\n    <v-tooltip left>\n      <template v-slot:activator=\"{ on }\">\n        <v-btn\n          class=\"mx-2 zoom-buttons\"\n          style=\"top:120px;\"\n          v-on=\"on\"\n          fab\n          dark\n          x-small\n          color=\"green\"\n          @click=\"zoom(-1)\"\n        >\n          <span style=\"font-size:22px;\">−</span>\n        </v-btn>\n      </template>\n      <span>Zoom Out</span>\n    </v-tooltip>\n  </div>\n</template>\n<script>\nimport { easeOut } from \"ol/easing\";\n\nexport default {\n  props: {\n    map: { type: Object, required: true }\n  },\n  name: \"zoom-control\",\n  methods: {\n    zoom(delta) {\n      if (!this.map || !this.map.getView()) {\n        return;\n      }\n      const view = this.map.getView();\n      const currentZoom = view.getZoom();\n      if (currentZoom !== undefined) {\n        const newZoom = view.getConstrainedZoom(currentZoom + delta);\n        if (view.getAnimating()) {\n          view.cancelAnimations();\n        }\n        view.animate({\n          zoom: newZoom,\n          duration: 250,\n          easing: easeOut\n        });\n      }\n    }\n  }\n};\n</script>\n<style lang=\"css\" scoped>\n.zoom-buttons {\n  position: absolute;\n  right: 12px;\n  z-index: 1;\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ZoomControl.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ZoomControl.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ZoomControl.vue?vue&type=template&id=309d79b0&scoped=true&\"\nimport script from \"./ZoomControl.vue?vue&type=script&lang=js&\"\nexport * from \"./ZoomControl.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ZoomControl.vue?vue&type=style&index=0&id=309d79b0&lang=css&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"309d79b0\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VTooltip } from 'vuetify/lib/components/VTooltip';\ninstallComponents(component, {VBtn,VTooltip})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-tooltip',{attrs:{\"left\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-btn',_vm._g({staticClass:\"mx-2 zoom-buttons\",staticStyle:{\"top\":\"160px\"},attrs:{\"fab\":\"\",\"dark\":\"\",\"x-small\":\"\",\"color\":\"green\"},on:{\"click\":_vm.toggleFullScreen}},on),[_c('v-icon',{attrs:{\"medium\":\"\"}},[_vm._v(_vm._s(_vm.isFullscreen ? \"fas fa-compress\" : \"fas fa-expand\"))])],1)]}}])},[_c('span',[_vm._v(\"Toggle Fullscreen\")])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <v-tooltip left>\n      <template v-slot:activator=\"{ on }\">\n        <v-btn\n          class=\"mx-2 zoom-buttons\"\n          style=\"top:160px;\"\n          v-on=\"on\"\n          fab\n          dark\n          x-small\n          color=\"green\"\n          @click=\"toggleFullScreen\"\n        >\n          <v-icon medium>{{\n            isFullscreen ? \"fas fa-compress\" : \"fas fa-expand\"\n          }}</v-icon>\n        </v-btn>\n      </template>\n      <span>Toggle Fullscreen</span>\n    </v-tooltip>\n  </div>\n</template>\n<script>\nimport screenfull from \"../../../../utils/ScreenFull\";\n\nexport default {\n  name: \"full-screen\",\n  data: () => ({\n    isFullscreen: false\n  }),\n  methods: {\n    /**\n     * Switch to/from fullscreen mode.\n     * Must be triggered by mouse event\n     */\n    toggleFullScreen() {\n      if (screenfull.isEnabled) {\n        screenfull.toggle();\n      }\n    }\n  },\n\n  mounted() {\n    screenfull.on(\"change\", () => {\n      this.isFullscreen = screenfull.isFullscreen;\n    });\n  }\n};\n</script>\n<style lang=\"css\" scoped>\n.zoom-buttons {\n  position: absolute;\n  right: 12px;\n  z-index: 1;\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Fullscreen.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Fullscreen.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Fullscreen.vue?vue&type=template&id=5df6821a&scoped=true&\"\nimport script from \"./Fullscreen.vue?vue&type=script&lang=js&\"\nexport * from \"./Fullscreen.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Fullscreen.vue?vue&type=style&index=0&id=5df6821a&lang=css&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5df6821a\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VTooltip } from 'vuetify/lib/components/VTooltip';\ninstallComponents(component, {VBtn,VIcon,VTooltip})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-tooltip',{attrs:{\"left\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-btn',_vm._g({staticClass:\"mx-2 signout-button\",staticStyle:{\"top\":\"10px\"},attrs:{\"fab\":\"\",\"dark\":\"\",\"small\":\"\",\"color\":\"green\"},on:{\"click\":_vm.signOut}},on),[_c('v-icon',{attrs:{\"medium\":\"\"}},[_vm._v(\"fas fa-sign-out-alt\")])],1)]}}])},[_c('span',[_vm._v(\"Sign Out\")])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <v-tooltip left>\n      <template v-slot:activator=\"{ on }\">\n        <v-btn\n          class=\"mx-2 signout-button\"\n          style=\"top:10px;\"\n          v-on=\"on\"\n          fab\n          dark\n          small\n          color=\"green\"\n          @click=\"signOut\"\n        >\n          <v-icon medium>fas fa-sign-out-alt</v-icon>\n        </v-btn>\n      </template>\n      <span>Sign Out</span>\n    </v-tooltip>\n  </div>\n</template>\n<script>\nimport * as firebase from \"firebase/app\";\nimport \"firebase/auth\";\n\nexport default {\n  name: \"sign-out\",\n  methods: {\n    signOut() {\n      firebase\n        .auth()\n        .signOut()\n        .then(() => {\n          this.$router.replace({ name: \"login\" });\n        });\n    }\n  }\n};\n</script>\n<style lang=\"css\" scoped>\n.signout-button {\n  position: absolute;\n  right: 8px;\n  z-index: 1;\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Signout.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Signout.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Signout.vue?vue&type=template&id=752f4d44&scoped=true&\"\nimport script from \"./Signout.vue?vue&type=script&lang=js&\"\nexport * from \"./Signout.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Signout.vue?vue&type=style&index=0&id=752f4d44&lang=css&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"752f4d44\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VTooltip } from 'vuetify/lib/components/VTooltip';\ninstallComponents(component, {VBtn,VIcon,VTooltip})\n","<template>\r\n  <div id=\"ol-map-container\">\r\n    <!-- Map Controls -->\r\n    <zoom-control v-show=\"!miniViewOlMap\" :map=\"map\" />\r\n    <full-screen v-show=\"!miniViewOlMap\" />\r\n    <background-switcher v-show=\"!miniViewOlMap\" />\r\n    <map-legend v-show=\"!miniViewOlMap\" />\r\n    <sign-out v-show=\"!miniViewOlMap\"/>\r\n    <!-- Popup overlay  -->\r\n    <overlay-popup\r\n      :title=\"popup.title\"\r\n      v-show=\"popup.isVisible && miniViewOlMap === false\"\r\n      ref=\"popup\"\r\n    >\r\n      <v-btn icon>\r\n        <v-icon>close</v-icon>\r\n      </v-btn>\r\n      <template v-slot:close>\r\n        <template v-if=\"getInfoResult.length > 1\">\r\n          <span\r\n            >({{ popup.currentLayerIndex + 1 }} of\r\n            {{ getInfoResult.length }})</span\r\n          >\r\n          <v-icon\r\n            :disabled=\"popup.currentLayerIndex === 0\"\r\n            style=\"cursor:pointer;\"\r\n            @click=\"previousGetInfoLayer()\"\r\n            >chevron_left</v-icon\r\n          >\r\n          <v-icon\r\n            :disabled=\"popup.currentLayerIndex === getInfoResult.length - 1\"\r\n            style=\"cursor:pointer;\"\r\n            @click=\"nextGetInfoLayer()\"\r\n            >chevron_right</v-icon\r\n          >\r\n        </template>\r\n        <v-btn @click=\"closePopup()\" icon>\r\n          <v-icon>close</v-icon>\r\n        </v-btn>\r\n      </template>\r\n      <template v-slot:body>\r\n        <div class=\"subtitle-2 mb-4 font-weight-bold\">\r\n          {{\r\n            getInfoResult[popup.currentLayerIndex]\r\n              ? getInfoResult[popup.currentLayerIndex].get(\"layerName\")\r\n              : \"\"\r\n          }}\r\n        </div>\r\n\r\n        <v-divider></v-divider>\r\n        <span v-html=\"popup.rawHtml\"></span>\r\n        <div style=\"height:190px;\">\r\n          <vue-scroll>\r\n            <v-simple-table dense class=\"pr-2\">\r\n              <template v-slot:default>\r\n                <tbody>\r\n                  <tr v-for=\"item in currentInfo\" :key=\"item.property\">\r\n                    <td v-if=\"item.property !== 'PopupInfo'\">\r\n                      {{ item.property }}\r\n                    </td>\r\n\r\n                    <td v-if=\"item.property !== 'PopupInfo'\">\r\n                      {{ item.value }}\r\n                    </td>\r\n                    <span\r\n                      v-if=\"item.property === 'PopupInfo'\"\r\n                      v-html=\"item.value\"\r\n                    ></span>\r\n                  </tr>\r\n                </tbody>\r\n              </template>\r\n            </v-simple-table>\r\n          </vue-scroll>\r\n        </div>\r\n\r\n        <v-divider></v-divider>\r\n      </template>\r\n    </overlay-popup>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Vue from \"vue\";\r\nimport Map from \"ol/Map\";\r\nimport View from \"ol/View\";\r\n// ol imports\r\nimport Overlay from \"ol/Overlay\";\r\nimport VectorSource from \"ol/source/Vector\";\r\nimport VectorLayer from \"ol/layer/Vector\";\r\n\r\n// style imports\r\nimport { getInfoStyle } from \"../../../style/OlStyleDefs\";\r\n// import the app-wide EventBus\r\nimport { EventBus } from \"../../../EventBus\";\r\n\r\n// utils imports\r\nimport { LayerFactory } from \"../../../factory/layer.js\";\r\nimport { groupBy, humanize, isCssColor } from \"../../../utils/Helpers\";\r\nimport { getAllChildLayers, getLayerType } from \"../../../utils/Layer\";\r\nimport { geojsonToFeature } from \"../../../utils/MapUtils\";\r\nimport { Group as LayerGroup } from \"ol/layer.js\";\r\nimport http from \"../../../services/http\";\r\nimport axios from \"axios\";\r\n\r\n//Map Controls\r\nimport OverlayPopup from \"./controls/Overlay\";\r\nimport Legend from \"./controls/Legend\";\r\nimport BackgroundSwitcher from \"./controls/BackgroundSwitcher\";\r\nimport ZoomControl from \"./controls/ZoomControl\";\r\nimport FullScreen from \"./controls/Fullscreen\";\r\nimport DoubleClickZoom from \"ol/interaction/DoubleClickZoom\";\r\nimport SignOut from \"./controls/Signout\";\r\nimport { defaults as defaultControls, Attribution } from \"ol/control\";\r\nimport { defaults as defaultInteractions } from \"ol/interaction\";\r\n\r\nexport default {\r\n  components: {\r\n    \"overlay-popup\": OverlayPopup,\r\n    \"map-legend\": Legend,\r\n    \"background-switcher\": BackgroundSwitcher,\r\n    \"zoom-control\": ZoomControl,\r\n    \"full-screen\": FullScreen,\r\n    \"sign-out\": SignOut\r\n  },\r\n  name: \"app-ol-map\",\r\n  props: {\r\n    miniViewOlMap: { type: Boolean, required: true }\r\n  },\r\n  data() {\r\n    return {\r\n      zoom: this.$appConfig.map.zoom,\r\n      center: this.$appConfig.map.center,\r\n      minZoom: this.$appConfig.map.minZoom,\r\n      maxZoom: this.$appConfig.map.maxZoom,\r\n      extent: this.$appConfig.map.extent, // Extent is fetched dynamically from the study area\r\n      color: this.$appConfig.controlsColor,\r\n      allLayers: [],\r\n      queryableLayers: [],\r\n      activeInteractions: [],\r\n      popup: {\r\n        rawHtml: null,\r\n        title: \"Info\",\r\n        isVisible: false,\r\n        currentLayerIndex: 0\r\n      },\r\n      getInfoResult: []\r\n    };\r\n  },\r\n  mounted() {\r\n    var me = this;\r\n    // Make the OL map accessible for Mapable mixin even 'ol-map-mounted' has\r\n    // already been fired. Don not use directly in cmps, use Mapable instead.\r\n    Vue.prototype.$map = me.map;\r\n    // Send the event 'ol-map-mounted' with the OL map as payload\r\n    EventBus.$emit(\"ol-map-mounted\", me.map);\r\n    // resize the map, so it fits to parent\r\n    window.setTimeout(() => {\r\n      me.map.setTarget(document.getElementById(\"ol-map-container\"));\r\n      me.map.updateSize();\r\n      // adjust the bg color of the OL buttons (like zoom, rotate north, ...)\r\n      me.setOlButtonColor();\r\n      //Get Info\r\n      me.setupMapClick();\r\n      me.setupMapPointerMove();\r\n      me.createPopupOverlay();\r\n    }, 200);\r\n  },\r\n  created() {\r\n    var me = this;\r\n    // Make map rotateable according to property\r\n    const attribution = new Attribution({\r\n      collapsible: true\r\n    });\r\n\r\n    //Need to reference as we should deactive double click zoom when there\r\n    //are active interaction like draw/modify\r\n    this.dblClickZoomInteraction = new DoubleClickZoom();\r\n    me.map = new Map({\r\n      layers: [],\r\n      interactions: defaultInteractions({\r\n        altShiftDragRotate: me.rotateableMap,\r\n        doubleClickZoom: false\r\n      }).extend([this.dblClickZoomInteraction]),\r\n      controls: defaultControls({\r\n        attribution: false,\r\n        zoom: false\r\n      }).extend([attribution]),\r\n      view: new View({\r\n        center: me.center || [0, 0],\r\n        zoom: me.zoom,\r\n        extent: me.extent,\r\n        minZoom: me.minZoom,\r\n        maxZoom: me.maxZoom\r\n      })\r\n    });\r\n\r\n    // Create layers from config and add them to map\r\n    const layers = me.createLayers();\r\n    me.map.getLayers().extend(layers);\r\n    me.createGetInfoLayer();\r\n\r\n    // Event bus setup for managing interactions\r\n    EventBus.$on(\"ol-interaction-activated\", startedInteraction => {\r\n      me.activeInteractions.push(startedInteraction);\r\n    });\r\n    EventBus.$on(\"ol-interaction-stoped\", stopedInteraction => {\r\n      me.activeInteractions = Array.from(new Set(me.activeInteractions));\r\n      me.activeInteractions = me.activeInteractions.filter(interaction => {\r\n        return interaction !== stopedInteraction;\r\n      });\r\n    });\r\n  },\r\n\r\n  methods: {\r\n    /**\r\n     * Creates the OL layers due to the map \"layers\" array in app config.\r\n     * @return {ol.layer.Base[]} Array of OL layer instances\r\n     */\r\n    createLayers() {\r\n      let layers = [];\r\n      const layersConfigGrouped = groupBy(this.$appConfig.map.layers, \"group\");\r\n      for (var group in layersConfigGrouped) {\r\n        // eslint-disable-next-line no-prototype-builtins\r\n        if (!layersConfigGrouped.hasOwnProperty(group)) {\r\n          continue;\r\n        }\r\n        const mapLayers = [];\r\n        layersConfigGrouped[group].reverse().forEach(function(lConf) {\r\n          const layer = LayerFactory.getInstance(lConf);\r\n          mapLayers.push(layer);\r\n        });\r\n        let layerGroup = new LayerGroup({\r\n          name: group !== undefined ? group.toString() : \"Other Layers\",\r\n          layers: mapLayers\r\n        });\r\n        layers.push(layerGroup);\r\n      }\r\n\r\n      return layers;\r\n    },\r\n\r\n    /**\r\n     * Creates a layer to visualize selected GetInfo features.\r\n     */\r\n    createGetInfoLayer() {\r\n      const source = new VectorSource({\r\n        wrapX: false\r\n      });\r\n      const vector = new VectorLayer({\r\n        name: \"Get Info Layer\",\r\n        displayInLayerList: false,\r\n        zIndex: 20,\r\n        source: source,\r\n        style: getInfoStyle()\r\n      });\r\n      this.getInfoLayerSource = source;\r\n      this.map.addLayer(vector);\r\n    },\r\n\r\n    /**\r\n     * Sets the background color of the OL buttons to the color property.\r\n     */\r\n    setOlButtonColor() {\r\n      var me = this;\r\n\r\n      if (isCssColor(me.color)) {\r\n        // directly apply the given CSS color\r\n        const rotateEl = document.querySelector(\".ol-rotate\");\r\n        if (rotateEl) {\r\n          rotateEl.className += \" elevation-5\";\r\n          rotateEl.borderRadius = \"40px\";\r\n          const rotateElStyle = document.querySelector(\r\n            \".ol-rotate .ol-rotate-reset\"\r\n          ).style;\r\n          rotateElStyle.backgroundColor = me.color;\r\n          rotateElStyle.borderRadius = \"40px\";\r\n        }\r\n        const attrEl = document.querySelector(\".ol-attribution\");\r\n        if (attrEl) {\r\n          attrEl.className += \" elevation-5\";\r\n          const elStyle = document.querySelector(\r\n            \".ol-attribution button[type='button']\"\r\n          ).style;\r\n          elStyle.backgroundColor = me.color;\r\n          elStyle.borderRadius = \"40px\";\r\n        }\r\n      } else {\r\n        // apply vuetify color by transforming the color to the corresponding\r\n        // CSS class (see https://vuetifyjs.com/en/framework/colors)\r\n        const [colorName, colorModifier] = me.color\r\n          .toString()\r\n          .trim()\r\n          .split(\" \", 2);\r\n\r\n        if (document.querySelector(\".ol-rotate\")) {\r\n          document\r\n            .querySelector(\".ol-rotate .ol-rotate-reset\")\r\n            .classList.add(colorName);\r\n          document\r\n            .querySelector(\".ol-rotate .ol-rotate-reset\")\r\n            .classList.add(colorModifier);\r\n        }\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Show popup for the get info module.\r\n     */\r\n    createPopupOverlay() {\r\n      const me = this;\r\n      me.popupOverlay = new Overlay({\r\n        element: me.$refs.popup.$el,\r\n        autoPan: false,\r\n        autoPanMargin: 40,\r\n        autoPanAnimation: {\r\n          duration: 250\r\n        }\r\n      });\r\n      me.map.addOverlay(me.popupOverlay);\r\n    },\r\n\r\n    /**\r\n     * Closes the popup if user click X button.\r\n     */\r\n    closePopup() {\r\n      const me = this;\r\n      if (me.popupOverlay) {\r\n        me.popupOverlay.setPosition(undefined);\r\n        me.popup.isVisible = false;\r\n      }\r\n      me.getInfoResult = [];\r\n      me.popup.currentLayerIndex = 0;\r\n      if (me.getInfoLayerSource) {\r\n        me.getInfoLayerSource.clear();\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Show getInfo popup.\r\n     */\r\n    showPopup() {\r\n      // Clear highligh feature\r\n      this.getInfoLayerSource.clear();\r\n      let position = this.getInfoResult[this.popup.currentLayerIndex]\r\n        .getGeometry()\r\n        .getCoordinates();\r\n      // Add highlight feature\r\n      this.getInfoLayerSource.addFeature(\r\n        this.getInfoResult[this.popup.currentLayerIndex]\r\n      );\r\n      while (position && Array.isArray(position[0])) {\r\n        position = position[0];\r\n      }\r\n      this.map.getView().animate({\r\n        center: position,\r\n        duration: 400\r\n      });\r\n      this.popupOverlay.setPosition(position);\r\n      this.popup.isVisible = true;\r\n      this.popup.title = `Info`;\r\n    },\r\n\r\n    /**\r\n     * Map pointer move event .\r\n     */\r\n    setupMapPointerMove() {\r\n      this.mapPointerMoveListenerKey = this.map.on(\"pointermove\", evt => {\r\n        if (evt.dragging || this.activeInteractions.length > 0) {\r\n          return;\r\n        }\r\n        const features = this.map.getFeaturesAtPixel(evt.pixel);\r\n\r\n        this.map.getTarget().style.cursor =\r\n          features.length > 0 ? \"pointer\" : \"\";\r\n      });\r\n    },\r\n\r\n    /**\r\n     * Map click event for Module.\r\n     */\r\n    setupMapClick() {\r\n      const me = this;\r\n      const map = me.map;\r\n      me.mapClickListenerKey = map.on(\"click\", evt => {\r\n        me.closePopup();\r\n        if (me.activeInteractions.length > 0) {\r\n          return;\r\n        }\r\n\r\n        const coordinate = evt.coordinate;\r\n        const projection = me.map.getView().getProjection();\r\n        const resolution = me.map.getView().getResolution();\r\n\r\n        me.queryableLayers = getAllChildLayers(me.map).filter(\r\n          layer =>\r\n            layer.get(\"queryable\") === true && layer.getVisible() === true\r\n        );\r\n        //WMS Requests\r\n        let promiseArray = [];\r\n        me.queryableLayers.forEach(layer => {\r\n          const layerType = getLayerType(layer);\r\n          switch (layerType) {\r\n            case \"WFS\": {\r\n              let selectedFeatures = me.map.getFeaturesAtPixel(evt.pixel, {\r\n                hitTolerance: 4,\r\n                layerFilter: layerCandidate => {\r\n                  return layerCandidate.get(\"name\") === layer.get(\"name\");\r\n                }\r\n              });\r\n              if (selectedFeatures !== null && selectedFeatures.length > 0) {\r\n                //TODO: If there are more then 2 features selected get the closest one to coordinate rather than the first element\r\n                const clonedFeature = selectedFeatures[0];\r\n                clonedFeature.set(\"layerName\", layer.get(\"name\"));\r\n                me.getInfoResult.push(clonedFeature);\r\n\r\n                // Navigato to closest photo in mapillary\r\n                if (layer.get(\"showInMapillary\")) {\r\n                  EventBus.$emit(\"featureClicked\", clonedFeature);\r\n                }\r\n              }\r\n              break;\r\n            }\r\n            case \"WMS\": {\r\n              let url = layer\r\n                .getSource()\r\n                .getFeatureInfoUrl(coordinate, resolution, projection, {\r\n                  INFO_FORMAT: \"application/json\"\r\n                });\r\n              promiseArray.push(\r\n                http.get(url, {\r\n                  data: { layerName: layer.get(\"name\") }\r\n                })\r\n              );\r\n              break;\r\n            }\r\n            default:\r\n              break;\r\n          }\r\n        });\r\n        if (promiseArray.length > 0) {\r\n          axios.all(promiseArray).then(function(results) {\r\n            results.forEach(response => {\r\n              const features = response.data.features;\r\n              const layerName = JSON.parse(response.config.data).layerName;\r\n              if (features && features.length === 0) {\r\n                return;\r\n              }\r\n              const olFeatures = geojsonToFeature(response.data, {});\r\n\r\n              olFeatures[0].set(\"layerName\", layerName);\r\n              me.getInfoResult.push(olFeatures[0]);\r\n            });\r\n\r\n            if (me.getInfoResult.length > 0) {\r\n              me.showPopup();\r\n            }\r\n          });\r\n        } else {\r\n          //Only for WFS layer\r\n          if (me.getInfoResult.length > 0) {\r\n            me.showPopup();\r\n          }\r\n        }\r\n      });\r\n    },\r\n    previousGetInfoLayer() {\r\n      this.popup.currentLayerIndex -= 1;\r\n      this.showPopup();\r\n    },\r\n    nextGetInfoLayer() {\r\n      this.popup.currentLayerIndex += 1;\r\n      this.showPopup();\r\n    }\r\n  },\r\n  computed: {\r\n    currentInfo() {\r\n      const feature = this.getInfoResult[this.popup.currentLayerIndex];\r\n      if (!feature) return;\r\n      const props = feature.getProperties();\r\n      let transformed = [];\r\n      const excludedProperties = [\r\n        \"id\",\r\n        \"geometry\",\r\n        \"geom\",\r\n        \"orgin_geometry\",\r\n        \"osm_id\",\r\n        \"gid\",\r\n        \"layerName\"\r\n      ];\r\n      if (props.PopupInfo) {\r\n        transformed.push({\r\n          property: \"PopupInfo\",\r\n          value: props.PopupInfo\r\n        });\r\n      } else {\r\n        Object.keys(props).forEach(k => {\r\n          if (!excludedProperties.includes(k) && !typeof k !== \"object\") {\r\n            transformed.push({\r\n              property: humanize(k),\r\n              value: !props[k] ? \"---\" : props[k]\r\n            });\r\n          }\r\n        });\r\n      }\r\n      return transformed;\r\n    }\r\n  },\r\n  watch: {\r\n    activeInteractions() {\r\n      if (!this.dblClickZoomInteraction) return;\r\n      if (this.activeInteractions.length > 0) {\r\n        this.dblClickZoomInteraction.setActive(false);\r\n      } else {\r\n        this.dblClickZoomInteraction.setActive(true);\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style>\r\ndiv.ol-attribution {\r\n  bottom: 4px;\r\n  border-radius: 40px;\r\n}\r\n\r\ndiv.ol-control {\r\n  padding: 0px;\r\n  border-radius: 40px;\r\n}\r\n\r\ndiv.ol-control button {\r\n  margin: 0px !important;\r\n}\r\n\r\n/* Hover tooltip */\r\n.wg-hover-tooltiptext {\r\n  width: 120px;\r\n  background-color: rgba(211, 211, 211, 0.9);\r\n  color: #222;\r\n  text-align: center;\r\n  padding: 5px;\r\n  border-radius: 6px;\r\n\r\n  /* Position the hover tooltip */\r\n  position: absolute;\r\n  z-index: 1;\r\n}\r\n\r\n.ol-attribution ul {\r\n  margin: 0;\r\n  padding: 0 0.5em;\r\n  font-size: 0.7rem;\r\n  line-height: 1.375em;\r\n  color: #000;\r\n  text-shadow: 0 0 2px #fff;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Map.vue?vue&type=template&id=35b8d8a7&\"\nimport script from \"./Map.vue?vue&type=script&lang=js&\"\nexport * from \"./Map.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Map.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VSimpleTable } from 'vuetify/lib/components/VDataTable';\ninstallComponents(component, {VBtn,VDivider,VIcon,VSimpleTable})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"mapillary-container\"}},[_c('mapillary-image-preview',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.previewImageUrl.length > 1),expression:\"previewImageUrl.length > 1\"}],ref:\"imagePreview\",attrs:{\"imageUrl\":_vm.previewImageUrl}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{staticClass:\"ol-popup mx-auto ma-0 pa-1\",staticStyle:{\"border-radius\":\"5px\",\"min-width\":\"200px\"},attrs:{\"fluid\":\"\"}},[_c('v-card',{staticClass:\"d-flex\",staticStyle:{\"border-radius\":\"5px\"},attrs:{\"flat\":\"\",\"tile\":\"\",\"max-width\":\"200\"}},[_c('v-img',{staticClass:\"grey lighten-2\",attrs:{\"aspect-ratio\":1.5,\"src\":_vm.imageUrl},scopedSlots:_vm._u([{key:\"placeholder\",fn:function(){return [_c('v-row',{staticClass:\"fill-height ma-0\",attrs:{\"align\":\"center\",\"justify\":\"center\"}},[_c('v-progress-circular',{attrs:{\"indeterminate\":\"\",\"color\":\"grey lighten-5\"}})],1)]},proxy:true}])})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-container\n    class=\"ol-popup mx-auto ma-0 pa-1\"\n    style=\"border-radius: 5px;min-width: 200px;\"\n    fluid\n  >\n    <v-card\n      flat\n      tile\n      style=\"border-radius: 5px;\"\n      max-width=\"200\"\n      class=\"d-flex\"\n    >\n      <v-img :aspect-ratio=\"1.5\" :src=\"imageUrl\" class=\"grey lighten-2\">\n        <template v-slot:placeholder>\n          <v-row class=\"fill-height ma-0\" align=\"center\" justify=\"center\">\n            <v-progress-circular\n              indeterminate\n              color=\"grey lighten-5\"\n            ></v-progress-circular>\n          </v-row>\n        </template>\n      </v-img>\n    </v-card>\n  </v-container>\n</template>\n<script>\nexport default {\n  name: \"mapillary-image-preview\",\n  props: {\n    imageUrl: { type: String, required: false }\n  }\n};\n</script>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapillaryImagePreview.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapillaryImagePreview.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MapillaryImagePreview.vue?vue&type=template&id=a587148e&\"\nimport script from \"./MapillaryImagePreview.vue?vue&type=script&lang=js&\"\nexport * from \"./MapillaryImagePreview.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VProgressCircular } from 'vuetify/lib/components/VProgressCircular';\nimport { VRow } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VCard,VContainer,VImg,VProgressCircular,VRow})\n","<template>\n  <div id=\"mapillary-container\">\n    <mapillary-image-preview\n      ref=\"imagePreview\"\n      :imageUrl=\"previewImageUrl\"\n      v-show=\"previewImageUrl.length > 1\"\n    />\n  </div>\n</template>\n<script>\nimport { Viewer } from \"mapillary-js\";\n\nimport { MarkerComponent } from \"mapillary-js\";\n\n//Ol imports\nimport OlVectorLayer from \"ol/layer/Vector\";\nimport OlVectorSource from \"ol/source/Vector\";\nimport OlPoint from \"ol/geom/Point\";\nimport OlVectorTileLayer from \"ol/layer/VectorTile\";\nimport OlVectorTileSource from \"ol/source/VectorTile\";\nimport OlOverlay from \"ol/Overlay\";\nimport { createXYZ } from \"ol/tilegrid\";\nimport OlFeature from \"ol/Feature\";\nimport MVT from \"ol/format/MVT\";\nimport { toLonLat, fromLonLat } from \"ol/proj\";\nimport { unByKey } from \"ol/Observable\";\nimport { getFlatLayers } from \"../../../utils/Layer\";\nimport {\n  geojsonToFeature,\n  findClosestFeatureToCoordinate,\n  calculateBearing\n} from \"../../../utils/MapUtils\";\n\n//Style and map object import\nimport { mapillaryStyleDefs } from \"../../../style/OlStyleDefs\";\nimport { EventBus } from \"../../../EventBus\";\n\n// Image preview component import (enabled on hover)\nimport MapillaryImagePreview from \"./controls/MapillaryImagePreview\";\n\n//Others\nimport http from \"../../../services/http\";\n\nimport \"mapillary-js/dist/mapillary.min.css\";\n\nexport default {\n  name: \"app-mapillary\",\n  components: {\n    \"mapillary-image-preview\": MapillaryImagePreview\n  },\n  data() {\n    return {\n      // Keys\n      cliendId: \"VDhYc2NwU3NfM19XNjczaTdXRlF1ZzpmN2RkOGU1ZGY2NTE2ODI4\",\n      key: \"vA_4gGZewNZKfzlcWppQ7Q\", // Start image key\n      organizationKey: \"GWPwbGxhu82M5HiAeeuduH\",\n      baseOverlayUrl:\n        \"https://d25uarhxywzl1j.cloudfront.net/v0.1/{z}/{x}/{y}.mvt\",\n      startSequenceKey: \"gcsujv9t4moejxt6t6h37g\",\n      // Mapillary API\n      mapillaryImgAPI: \"https://a.mapillary.com/v3/images\",\n      // Preview Image url\n      previewImageUrl: \"\",\n      // Mapillary viewer\n      mapillary: null,\n      // Features\n      highlightFeature: null,\n      pointFeature: null,\n      // Layers\n      movePointLayer: null,\n      baseOverlayerLayer: null,\n      hoverHighlightLayer: null,\n      // Listener keys\n      mapClickListenerKey: null,\n      mapHoverListenerKey: null,\n      // Overlays\n      imagePreviewOverlay: null,\n      //\n    };\n  },\n  mounted() {\n    if (!this.mapillary && this.map) {\n      this.init();\n    }\n  },\n  created() {\n    this.map = null;\n    EventBus.$on(\"ol-map-mounted\", olMap => {\n      // make the OL map accesible in this component\n      this.map = olMap;\n      if (this.onMapBound) {\n        this.onMapBound();\n      }\n    });\n  },\n  methods: {\n    onMapBound() {\n      if (!this.mapillary) {\n        this.init();\n      }\n    },\n    /**\n     * Init Mapillary Component\n     */\n    init() {\n      this.mapillary = new Viewer(\n        \"mapillary-container\",\n        this.cliendId,\n        this.key,\n        {\n          component: {\n            cover: false,\n            marker: {\n              visibleBBoxSize: 1000\n            }\n          }\n        }\n      );\n      window.addEventListener(\"resize\", this.resize);\n      this.createFeatureOverlay();\n      this.createImagePreviewOverlay();\n      this.createMovePointLayer();\n      this.createBaseOverlayLayer();\n      this.createHoverHighlightLayer();\n      this.addInteractions();\n      this.mapClickListenerKey = this.map.on(\"click\", this.onClick);\n      this.mapillary.on(Viewer.nodechanged, this.mapillaryChanged);\n      this.mapillary.on(Viewer.moveend, this.mapillaryMoveend);\n      mapillaryStyleDefs.activeSequence = this.startSequenceKey;\n      EventBus.$on(\"featureClicked\", this.goToOlFeature);\n      EventBus.$on(\"layerItemSelected\", this.layerItemSelected);\n\n      // Add layers as overlays (only points can be added)\n      let localLayers = [];\n      this.map.getLayers().forEach(layer => {\n        if (layer.get(\"name\") === \"Operational Layers\") {\n          localLayers = [...getFlatLayers(layer)];\n        }\n      });\n\n      localLayers.forEach(layer => {\n        if (layer.get(\"showInMapillary\")) {\n          layer.getSource().on(\"change\", () => {\n            if (layer.getSource().getState() === \"ready\") {\n              this.createMarkers(layer.getSource().getFeatures());\n            }\n          });\n        }\n      });\n    },\n\n    createMarkers(features) {\n      const markers = [];\n\n      features.forEach(feature => {\n        if (feature.getGeometry().getType() === \"Point\") {\n          const coordinate = feature.getGeometry().getCoordinates();\n          const lonLat = toLonLat(coordinate);\n          // Create a non interactive simple marker with default options\n          const marker = new MarkerComponent.SimpleMarker(feature.getId(), {\n            lat: lonLat[1],\n            lon: lonLat[0]\n          });\n          markers.push(marker);\n        }\n      });\n\n      // Add markers to component\n      const markerComponent = this.mapillary.getComponent(\"marker\");\n      markerComponent.removeAll();\n      markerComponent.add(markers);\n    },\n    /**\n     * Overlay style\n     */\n    createFeatureOverlay() {\n      this.featureOverlay = new OlVectorLayer({\n        source: new OlVectorSource(),\n        map: this.map,\n        style: [\n          mapillaryStyleDefs.wifiStyle,\n          mapillaryStyleDefs.circleSolidStyle\n        ]\n      });\n    },\n\n    /**\n     * Show popup for the get info module.\n     */\n    createImagePreviewOverlay() {\n      this.imagePreviewOverlay = new OlOverlay({\n        element: this.$refs.imagePreview.$el,\n        autoPan: false,\n        autoPanMargin: 40,\n        autoPanAnimation: {\n          duration: 250\n        }\n      });\n      this.map.addOverlay(this.imagePreviewOverlay);\n    },\n\n    /**\n     * Radar point layer\n     */\n    createMovePointLayer() {\n      this.pointFeature = new OlFeature({\n        geometry: null\n      });\n      this.pointFeature.setStyle([\n        mapillaryStyleDefs.wifiStyle,\n        mapillaryStyleDefs.circleSolidStyle\n      ]);\n      this.movePointLayer = new OlVectorLayer({\n        zIndex: 10,\n        source: new OlVectorSource({ features: [this.pointFeature] })\n      });\n      this.map.addLayer(this.movePointLayer);\n    },\n\n    /**\n     * Overlay layer (sequences, images)\n     */\n    createBaseOverlayLayer() {\n      const me = this;\n      this.baseOverlayerLayer = new OlVectorTileLayer({\n        name: \"Mapillary Baselayer\",\n        displayInLayerList: true,\n        group: \"Operational Layers\",\n        source: new OlVectorTileSource({\n          attributions: \"© Mapillary\",\n          format: new MVT(),\n          tileGrid: createXYZ({ maxZoom: 14 }),\n          tilePixelRatio: 16,\n          opacity: 0.7,\n          url: this.baseOverlayUrl,\n          tileLoadFunction: function(tile, url) {\n            tile.setLoader(function(extent, resolution, projection) {\n              fetch(url).then(function(response) {\n                response.arrayBuffer().then(function(data) {\n                  const format = tile.getFormat(); // ol/format/MVT configured as source format\n                  let features = format.readFeatures(data, {\n                    extent: extent,\n                    featureProjection: projection\n                  });\n                  features = features.filter(f => {\n                    return (\n                      f.getProperties().organization_key === me.organizationKey\n                    );\n                  });\n                  tile.setFeatures(features);\n                });\n              });\n            });\n          }\n        }),\n        style: mapillaryStyleDefs.baseOverlayStyle(this.map)\n      });\n\n      this.map.addLayer(this.baseOverlayerLayer);\n      EventBus.$emit(\"mapillaryLayerAdded\", this.baseOverlayerLayer);\n    },\n\n    /**\n     * Create hover highlight layers\n     */\n    createHoverHighlightLayer() {\n      this.hoverHighlightLayer = new OlVectorLayer({\n        zIndex: 20,\n        name: \"mapillaryHighlightLayer\",\n        source: new OlVectorSource(),\n        style: mapillaryStyleDefs.highlightStyle\n      });\n      this.map.addLayer(this.hoverHighlightLayer);\n    },\n\n    /**\n     * Overlay layer interactions\n     */\n    addInteractions() {\n      this.mapHoverListenerKey = this.map.on(\"pointermove\", evt => {\n        let features = this.map.getFeaturesAtPixel(evt.pixel, {\n          layerFilter: candidate => {\n            if (candidate.get(\"name\") === \"Mapillary Baselayer\") {\n              return true;\n            }\n            return false;\n          }\n        });\n        this.hoverHighlightLayer.getSource().clear();\n        if (\n          features.length > 0 &&\n          features[0].getProperties().layer === \"mapillary-images\"\n        ) {\n          this.previewImageUrl = `https://images.mapillary.com/${features[0].get(\n            \"key\"\n          )}/thumb-320.jpg`;\n          this.imagePreviewOverlay.setPosition(\n            features[0].getFlatCoordinates()\n          );\n          const feature = new OlFeature({\n            geometry: new OlPoint(features[0].getFlatCoordinates())\n          });\n          feature.setProperties(features[0].getProperties());\n          this.hoverHighlightLayer.getSource().addFeature(feature);\n          this.map.getTarget().style.cursor = \"pointer\";\n        } else {\n          this.previewImageUrl = \"\";\n          this.imagePreviewOverlay.setPosition(undefined);\n          this.map.getTarget().style.cursor = \"\";\n        }\n      });\n    },\n\n    /**\n     * Click event handler\n     */\n    onClick(evt) {\n      this.hoverHighlightLayer.getSource().clear();\n      const feature = this.map.forEachFeatureAtPixel(\n        evt.pixel,\n        function(feature) {\n          return feature;\n        },\n        {\n          layerFilter: layer => {\n            return layer === this.baseOverlayerLayer;\n          },\n          hitTolerance: 5\n        }\n      );\n\n      if (feature) {\n        if (feature.get(\"layer\") === \"mapillary-sequences\") {\n          return;\n        }\n        var bearing = feature.get(\"ca\");\n        this.mapillary.moveToKey(feature.get(\"key\"));\n        this.featureOverlay.setStyle(\n          mapillaryStyleDefs.updateBearingStyle(bearing)\n        );\n        mapillaryStyleDefs.activeSequence = feature.get(\"skey\");\n      } else {\n        return;\n      }\n      //Update layer\n      this.baseOverlayerLayer.changed();\n    },\n\n    /**\n     * Mapillary changed event handler\n     */\n    mapillaryChanged(node) {\n      if (this.featureOverlay.getVisible()) {\n        this.featureOverlay.setVisible(false);\n      }\n      const lonLat = new fromLonLat([\n        node.originalLatLon.lon,\n        node.originalLatLon.lat\n      ]);\n      this.map.getView().animate({\n        center: lonLat,\n        duration: 400\n      });\n      if (this.pointFeature.getGeometry() === null) {\n        this.pointFeature.setGeometry(new OlPoint(lonLat));\n      } else {\n        this.pointFeature.getGeometry().setCoordinates(lonLat);\n      }\n      if (mapillaryStyleDefs.activeSequence !== node.sequenceKey) {\n        mapillaryStyleDefs.activeSequence = node.sequenceKey;\n        this.baseOverlayerLayer.changed();\n      }\n    },\n\n    /**\n     * Mapillary movend event handler (Used for getting bearing angle)\n     */\n    mapillaryMoveend() {\n      this.mapillary.getBearing().then(bearing => {\n        if (this.pointFeature) {\n          this.pointFeature.setStyle(\n            mapillaryStyleDefs.updateBearingStyle(bearing)\n          );\n        }\n      });\n    },\n\n    /**\n     * Find closest image to Ol feature\n     */\n\n    goToOlFeature(feature) {\n      const geom = feature.getGeometry();\n      if (geom.getType() === \"Point\") {\n        const coordinates = toLonLat(geom.getCoordinates());\n        // https://a.mapillary.com/v3/images?client_id=VDhYc2NwU3NfM19XNjczaTdXRlF1ZzpmN2RkOGU1ZGY2NTE2ODI4&closeto=-135.91399182799995,63.656185331000046&radius=150&lookat=-135.91399182799995,63.656185331000046\n        //TODO: We can use view moveTo here instead of doing it ourself\n        http\n          .get(this.mapillaryImgAPI, {\n            params: {\n              client_id: this.cliendId,\n              closeto: [coordinates[0], coordinates[1]].toString(),\n              organization_keys: this.organizationKey,\n              radius: 150\n            }\n          })\n          .then(response => {\n            if (response.data) {\n              const features = geojsonToFeature(response.data, {\n                featureProjection: \"EPSG:3857\",\n                dataProjection: \"EPSG:4326\"\n              });\n              const closestFeature = findClosestFeatureToCoordinate(\n                features,\n                fromLonLat(coordinates)\n              );\n              // Closest feature is the first element in the response array.\n              // const closestFeature =   features[0];\n              if (closestFeature) {\n                const key = closestFeature.get(\"key\");\n                if (key) {\n                  this.mapillary.moveToKey(key).then(\n                    node => {\n                      // Calculate Bearing between photo center and the marker\n                      const start = toLonLat(\n                        closestFeature.getGeometry().getCoordinates()\n                      );\n                      const end = coordinates;\n                      const bearing = calculateBearing(\n                        start[1],\n                        start[0],\n                        end[1],\n                        end[0]\n                      );\n\n                      // Rotate according to the bearing\n                      this.setBearing(node, bearing);\n                      mapillaryStyleDefs.activeSequence = node.sequenceKey;\n                      //Update layer\n                      this.baseOverlayerLayer.changed();\n                    },\n                    error => {\n                      console.error(error);\n                    }\n                  );\n                }\n              }\n            }\n          })\n          .catch(error => {\n            console.log(error);\n          });\n      }\n    },\n\n    /**\n     * Remove or add markers based on layer state.\n     * TODO: We can also consider doing this for individual layers.\n     * rather then calling RemoveAll.\n     */\n\n    layerItemSelected(layer) {\n      const markerComponent = this.mapillary.getComponent(\"marker\");\n      if (layer.getVisible() === true) {\n        //2- Add markers\n        this.createMarkers(layer.getSource().getFeatures());\n      } else {\n        markerComponent.removeAll();\n      }\n    },\n\n    /**\n     * Resize method\n     */\n    resize() {\n      this.mapillary.resize();\n    },\n\n    /** BEARING  */\n    setBearing(node, bearing) {\n      if (!node.fullPano) {\n        // We are only interested in setting the bearing for full 360 panoramas.\n        return;\n      }\n      var desiredBearing = bearing; // Your desired bearing.\n      var nodeBearing = node.ca; // Computed node compass angle (equivalent\n      // to bearing) is used by mjs when placing\n      // the node in 3D space.\n\n      var basicX = this.bearingToBasic(desiredBearing, nodeBearing);\n      var basicY = 0.5; // Vertical center\n\n      var center = [basicX, basicY];\n\n      this.mapillary.setCenter(center);\n    },\n    /**\n     * Convert a desired bearing to a basic X image coordinate for\n     * a specific node bearing.\n     *\n     * Works only for a full 360 panorama.\n     */\n    bearingToBasic(desiredBearing, nodeBearing) {\n      // 1. Take difference of desired bearing and node bearing in degrees.\n      // 2. Scale to basic coordinates.\n      // 3. Add 0.5 because node bearing corresponds to the center\n      //    of the image. See\n      //    https://mapillary.github.io/mapillary-js/classes/viewer.html\n      //    for explanation of the basic coordinate system of an image.\n      var basic = (desiredBearing - nodeBearing) / 360 + 0.5;\n\n      // Wrap to a valid basic coordinate (on the [0, 1] interval).\n      // Needed when difference between desired bearing and node\n      // bearing is more than 180 degrees.\n      return this.wrap(basic, 0, 1);\n    },\n    /**\n     * Wrap a value on the interval [min, max].\n     */\n    wrap(value, min, max) {\n      var interval = max - min;\n\n      while (value > max || value < min) {\n        if (value > max) {\n          value = value - interval;\n        } else if (value < min) {\n          value = value + interval;\n        }\n      }\n\n      return value;\n    }\n  },\n\n  destroyed() {\n    unByKey(this.mapClickListenerKey);\n    unByKey(this.mapHoverListenerKey);\n    this.map.removeLayer(this.movePointLayer);\n    this.map.removeLayer(this.baseOverlayerLayer);\n    this.map.removeLayer(this.hoverHighlightLayer);\n    this.map.removeOverlay(this.imagePreviewOverlay);\n    window.removeEventListener(\"resize\", this.resize());\n    this.mapillary.off(Viewer.nodechanged, this.mapillaryChanged);\n    this.mapillary.off(Viewer.changed, this.mapillaryMoveend);\n    this.mapillary.getComponent(\"sequence\").stop();\n    EventBus.$off(\"featureClicked\", this.goToOlFeature);\n    EventBus.$off(\"layerItemSelected\", this.layerItemSelected);\n    this.mapillary.getComponent(\"marker\").removeAll();\n  }\n};\n</script>\n<style lang=\"css\" scoped></style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Mapillary.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Mapillary.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Mapillary.vue?vue&type=template&id=39786ff0&scoped=true&\"\nimport script from \"./Mapillary.vue?vue&type=script&lang=js&\"\nexport * from \"./Mapillary.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"39786ff0\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <!-- TOGGLE STREET VIEW -->\n    <v-btn\n      v-if=\"!miniViewerVisible\"\n      class=\"mx-2 miniviewer-button\"\n      fab\n      dark\n      small\n      color=\"green\"\n      @click=\"showMiniViewer\"\n    >\n      <v-icon dark>streetview</v-icon>\n    </v-btn>\n\n    <!-- MAPILLARY-->\n    <div\n      v-if=\"miniViewerVisible\"\n      class=\"elevation-4\"\n      :class=\"miniViewOlMap ? 'fullscreen' : 'miniview'\"\n    >\n      <!-- <div v-if=\"!miniViewOlMap\" id=\"close-miniview\" @click=\"closeMiniView()\">\n        <v-icon dark class=\"close-icon\">close</v-icon>\n      </div> -->\n      <div v-if=\"!miniViewOlMap\" id=\"switch-triangle\" @click=\"switchViews()\">\n        <v-icon large dark class=\"swap-icon\">swap_horiz</v-icon>\n      </div>\n      <app-mapillary\n        ref=\"mapillary\"\n        class=\"fullscreen\"\n      ></app-mapillary>\n    </div>\n\n    <!-- OL MAP -->\n    <div :class=\"miniViewOlMap ? 'miniview' : 'fullscreen'\">\n      <!-- <div v-if=\"miniViewOlMap\" id=\"close-miniview\" @click=\"closeMiniView()\">\n        <v-icon dark class=\"close-icon\">close</v-icon>\n      </div> -->\n      <div v-if=\"miniViewOlMap\" id=\"switch-triangle\" @click=\"switchViews()\">\n        <v-icon large dark class=\"swap-icon\">swap_horiz</v-icon>\n      </div>\n      <app-ol-map\n        :miniViewOlMap=\"miniViewOlMap\"\n        class=\"fullscreen\"\n        ref=\"olmap\"\n      ></app-ol-map>\n    </div>\n  </div>\n</template>\n\n<script>\nimport appMap from \"./ol/Map\";\nimport appMapillary from \"./mapillary/Mapillary\";\n\nexport default {\n  name: \"app-viewer\",\n  components: {\n    \"app-ol-map\": appMap,\n    \"app-mapillary\": appMapillary\n  },\n  data() {\n    return {\n      miniViewerVisible: true,\n      miniViewOlMap: false\n    };\n  },\n  methods: {\n    showMiniViewer() {\n      this.miniViewerVisible = true;\n    },\n    switchViews() {\n      this.miniViewOlMap = !this.miniViewOlMap;\n      this.updateViews();\n    },\n    updateViews() {\n      setTimeout(() => {\n        const mapillaryRef = this.$refs[\"mapillary\"];\n        const olMapRef = this.$refs[\"olmap\"];\n        if (mapillaryRef) {\n          mapillaryRef.mapillary.resize();\n        }\n        if (olMapRef) {\n          olMapRef.map.updateSize();\n        }\n      }, 90);\n    },\n    closeMiniView() {\n      this.miniViewerVisible = false;\n      this.miniViewOlMap = false;\n      this.updateViews();\n    }\n  }\n};\n</script>\n<style lang=\"css\" scoped>\n.switch-button {\n  position: absolute;\n  top: 10px;\n  right: 2px;\n  z-index: 1;\n}\n\n.miniviewer-button {\n  position: absolute;\n  top: 15px;\n  left: 8px;\n  z-index: 1;\n}\n\n.fullscreen {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  overflow: hidden;\n}\n\n.miniview {\n  position: absolute;\n  top: 8px;\n  left: 8px;\n  right: 8px;\n\n  height: 40%;\n  width: 40%;\n\n  overflow: hidden;\n  opacity: 1;\n  z-index: 10;\n  background-color: white;\n  box-shadow: 0 0 4px #00000060;\n  border-radius: 8px;\n  z-index: 3;\n}\n\n#switch-triangle {\n  content: \"\";\n  position: absolute;\n  top: -60px;\n  right: -60px;\n  height: 100px;\n  width: 100px;\n  opacity: 0.8;\n  background: rgba(0, 0, 0, 0.5);\n  transform: rotate(45deg);\n  z-index: 20;\n  cursor: pointer;\n}\n\n.swap-icon {\n  position: absolute;\n  bottom: -5px;\n  right: 35px;\n}\n\n#close-miniview {\n  content: \"\";\n  position: absolute;\n  top: 5px;\n  left: 5px;\n  border-radius: 15px;\n  height: 24px;\n  width: 24px;\n  opacity: 0.8;\n  background: rgba(0, 0, 0, 0.5);\n  z-index: 20;\n  cursor: pointer;\n}\n\n.close-icon {\n  position: absolute;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./viewer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./viewer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./viewer.vue?vue&type=template&id=4c8a9389&scoped=true&\"\nimport script from \"./viewer.vue?vue&type=script&lang=js&\"\nexport * from \"./viewer.vue?vue&type=script&lang=js&\"\nimport style0 from \"./viewer.vue?vue&type=style&index=0&id=4c8a9389&lang=css&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4c8a9389\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\ninstallComponents(component, {VBtn,VIcon})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-navigation-drawer',{staticClass:\"right-shadow\",attrs:{\"id\":\"tree-panel\",\"mini-variant\":_vm.mini,\"app\":\"\",\"persistent\":\"\",\"permanent\":\"\",\"left\":\"\",\"hide-overlay\":\"\",\"mini-variant-width\":\"50\",\"width\":\"350\"},on:{\"update:miniVariant\":function($event){_vm.mini=$event},\"update:mini-variant\":function($event){_vm.mini=$event}},model:{value:(_vm.drawer),callback:function ($$v) {_vm.drawer=$$v},expression:\"drawer\"}},[_c('v-layout',{class:_vm.getColor,attrs:{\"justify-space-between\":\"\",\"column\":\"\",\"fill-height\":\"\"}},[(_vm.mini)?[_c('v-btn',{staticClass:\"ml-3 mt-2\",attrs:{\"text\":\"\",\"small\":\"\",\"icon\":\"\",\"light\":\"\"},on:{\"click\":function($event){$event.stopPropagation();_vm.mini = !_vm.mini}}},[_c('v-icon',{attrs:{\"color\":\"white\"}},[_vm._v(\"fas fa-chevron-right\")])],1)]:_vm._e(),(!_vm.mini)?[_c('v-app-bar',{staticClass:\"toolbar green\",attrs:{\"flat\":\"\",\"height\":\"50\"}},[_c('img',{staticClass:\"logo mr-2\",attrs:{\"src\":_vm.logo,\"width\":\"95px\"},on:{\"click\":function($event){return _vm.openWebsite()}}}),_c('span',{staticClass:\"white--text title\"},[_vm._v(\"Yukon Energy Corp\")]),_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\",\"icon\":\"\",\"light\":\"\"},on:{\"click\":function($event){$event.stopPropagation();_vm.mini = !_vm.mini}}},[_c('v-icon',{attrs:{\"color\":\"white\"}},[_vm._v(\"fas fa-chevron-left\")])],1)],1),_c('v-tabs',[_c('v-tab',[_vm._v(\" Layers \")])],1),_c('vue-scroll',{ref:\"vs\"},[_c('v-layout',{staticStyle:{\"overflow-y\":\"auto\"},attrs:{\"justify-space-between\":\"\",\"column\":\"\",\"fill-height\":\"\"}},[_c('keep-alive',[_c(_vm.activeComponent,{tag:\"component\"})],1)],1)],1)]:_vm._e()],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-flex',{attrs:{\"xs12\":\"\",\"sm8\":\"\",\"md4\":\"\"}},[_c('v-divider'),_c('v-expansion-panels',{attrs:{\"accordion\":\"\",\"multiple\":\"\"},model:{value:(_vm.panels),callback:function ($$v) {_vm.panels=$$v},expression:\"panels\"}},_vm._l((_vm.layers),function(layerGroup,i){return _c('v-expansion-panel',{key:i,attrs:{\"expand\":\"\"}},[_c('v-expansion-panel-header',{staticClass:\"elevation-2\",attrs:{\"expand-icon\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar open = ref.open;\nreturn [_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\",\"align-center\":\"\"}},[_c('v-flex',{attrs:{\"xs1\":\"\"}},[_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"fas fa-layer-group\")])],1),_c('v-flex',{attrs:{\"xs10\":\"\"}},[_c('div',[_vm._v(\" \"+_vm._s(layerGroup.name === \"backgroundLayers\" ? \"Background Layers\" : layerGroup.name)+\" \")])]),_c('v-flex',{attrs:{\"xs1\":\"\"}},[_c('v-icon',{domProps:{\"innerHTML\":_vm._s(open ? 'remove' : 'add')}})],1)],1)]}}],null,true)}),_c('v-expansion-panel-content',[_c('v-expansion-panels',{attrs:{\"readonly\":\"\"}},_vm._l((layerGroup.children),function(item,i){return _c('v-expansion-panel',{key:i,class:{\n              'expansion-panel__container--active': item.showOptions === true\n            }},[_c('v-expansion-panel-header',{attrs:{\"expand-icon\":\"\"},on:{\"click\":function($event){return _vm.toggleLayerVisibility(item, layerGroup)}},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){return [_c('v-layout',{staticClass:\"pl-2\",attrs:{\"row\":\"\",\"wrap\":\"\",\"align-center\":\"\"}},[_c('v-flex',{attrs:{\"xs2\":\"\"}},[_c('v-icon',{class:{\n                      'active-icon': item.mapLayer.getVisible() === true,\n                      'expansion-panel__container--active':\n                        item.showOptions === true\n                    }},[_vm._v(\"done\")])],1),_c('v-flex',{attrs:{\"xs98\":\"\"}},[_c('span',[_vm._v(_vm._s(item.name))])]),_c('v-flex',{attrs:{\"xs1\":\"\"}},[_c('v-icon',{directives:[{name:\"show\",rawName:\"v-show\",value:(item.mapLayer.getVisible()),expression:\"item.mapLayer.getVisible()\"}],class:{\n                      'expansion-panel__container--active':\n                        item.showOptions === true\n                    },staticStyle:{\"width\":\"30px\",\"height\":\"30px\"},attrs:{\"small\":\"\"},domProps:{\"innerHTML\":_vm._s(\n                      item.showOptions === false\n                        ? 'fas fa-chevron-down'\n                        : 'fas fa-chevron-up'\n                    )},on:{\"click\":function($event){$event.stopPropagation();return _vm.toggleLayerOptions(item)}}})],1)],1)]}}],null,true)}),_c('v-card',{directives:[{name:\"show\",rawName:\"v-show\",value:(item.showOptions === true),expression:\"item.showOptions === true\"}],staticClass:\"pt-2\",staticStyle:{\"background-color\":\"white\"},attrs:{\"transition\":\"slide-y-reverse-transition\"}},[_c('v-slider',{staticClass:\"mx-5\",attrs:{\"value\":item.mapLayer.getOpacity(),\"step\":\"0.05\",\"min\":\"0\",\"max\":\"1\",\"label\":\"Transparency\",\"color\":\"#30C2FF\"},on:{\"input\":function($event){return _vm.changeLayerOpacity($event, item.mapLayer)}}})],1)],1)}),1)],1)],1)}),1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-flex xs12 sm8 md4>\n    <v-divider></v-divider>\n\n    <v-expansion-panels v-model=\"panels\" accordion multiple>\n      <v-expansion-panel v-for=\"(layerGroup, i) in layers\" :key=\"i\" expand>\n        <v-expansion-panel-header\n          class=\"elevation-2\"\n          expand-icon=\"\"\n          v-slot=\"{ open }\"\n        >\n          <v-layout row wrap align-center>\n            <v-flex xs1>\n              <v-icon small>fas fa-layer-group</v-icon>\n            </v-flex>\n            <v-flex xs10>\n              <div>\n                {{\n                  layerGroup.name === \"backgroundLayers\"\n                    ? \"Background Layers\"\n                    : layerGroup.name\n                }}\n              </div>\n            </v-flex>\n            <v-flex xs1>\n              <v-icon v-html=\"open ? 'remove' : 'add'\"></v-icon>\n            </v-flex>\n          </v-layout>\n        </v-expansion-panel-header>\n        <v-expansion-panel-content>\n          <!-- LAYERS -->\n          <v-expansion-panels readonly>\n            <v-expansion-panel\n              v-for=\"(item, i) in layerGroup.children\"\n              :key=\"i\"\n              :class=\"{\n                'expansion-panel__container--active': item.showOptions === true\n              }\"\n            >\n              <v-expansion-panel-header\n                expand-icon=\"\"\n                @click=\"toggleLayerVisibility(item, layerGroup)\"\n                v-slot=\"{}\"\n              >\n                <v-layout row class=\"pl-2\" wrap align-center>\n                  <v-flex xs2>\n                    <v-icon\n                      :class=\"{\n                        'active-icon': item.mapLayer.getVisible() === true,\n                        'expansion-panel__container--active':\n                          item.showOptions === true\n                      }\"\n                      >done</v-icon\n                    >\n                  </v-flex>\n                  <v-flex xs98>\n                    <span>{{ item.name }}</span>\n                  </v-flex>\n                  <v-flex xs1>\n                    <v-icon\n                      v-show=\"item.mapLayer.getVisible()\"\n                      small\n                      style=\"width: 30px; height: 30px;\"\n                      v-html=\"\n                        item.showOptions === false\n                          ? 'fas fa-chevron-down'\n                          : 'fas fa-chevron-up'\n                      \"\n                      :class=\"{\n                        'expansion-panel__container--active':\n                          item.showOptions === true\n                      }\"\n                      @click.stop=\"toggleLayerOptions(item)\"\n                    ></v-icon>\n                  </v-flex>\n                </v-layout>\n              </v-expansion-panel-header>\n              <v-card\n                class=\"pt-2\"\n                v-show=\"item.showOptions === true\"\n                style=\"background-color: white;\"\n                transition=\"slide-y-reverse-transition\"\n              >\n                <v-slider\n                  :value=\"item.mapLayer.getOpacity()\"\n                  class=\"mx-5\"\n                  step=\"0.05\"\n                  min=\"0\"\n                  max=\"1\"\n                  @input=\"changeLayerOpacity($event, item.mapLayer)\"\n                  label=\"Transparency\"\n                  color=\"#30C2FF\"\n                ></v-slider>\n              </v-card>\n            </v-expansion-panel>\n          </v-expansion-panels>\n\n          <!-- ---- -->\n        </v-expansion-panel-content>\n      </v-expansion-panel>\n    </v-expansion-panels>\n  </v-flex>\n</template>\n\n<script>\nimport { Mapable } from \"../../mixins/Mapable\";\nimport { Group, Vector } from \"ol/layer.js\";\nimport { EventBus } from \"../../EventBus\";\n\n\nexport default {\n  mixins: [Mapable],\n  data: () => ({\n    layers: [],\n    panels: [0]\n  }),\n  methods: {\n    /**\n     * This function is executed, after the map is bound (see mixins/Mapable)\n     * and registers the current map layers.\n     */\n    onMapBound() {\n      const me = this;\n      const localVectorLayers = {\n        name: \"Vector Layers\",\n        id: 100,\n        isExpanded: [false],\n        children: []\n      };\n      me.map\n        .getLayers()\n        .getArray()\n        .forEach((layer, index) => {\n          let obj = me.getMapLayerObj(layer, index);\n          if (layer instanceof Group && layer.get(\"name\") != \"undefined\") {\n            me.layers.push(obj);\n          } else if (\n            layer instanceof Vector &&\n            layer.get(\"name\") != \"undefined\" &&\n            layer.get(\"displayInLayerList\") === true\n          ) {\n            localVectorLayers.children.push(obj);\n          }\n        });\n      //Check if there are any vector layers currently in the map\n      if (localVectorLayers.children.length > 0) {\n        me.layers.push(localVectorLayers);\n      }\n    },\n    getMapLayerObj(layer, index) {\n      const me = this;\n      const obj = {};\n      if (layer instanceof Group) {\n        obj.name = layer.get(\"name\") ? layer.get(\"name\") : \"Layer Group\";\n        obj.id = index;\n        obj.isExpanded = [true];\n        obj.children = [];\n        const layers = layer.getLayers().getArray();\n        layers.forEach((layer, index) => {\n          if (layer instanceof Group) {\n            me.getMapLayerObj(layer);\n          } else {\n            if (layer.get(\"displayInLayerList\")) {\n              let layerOpt = {\n                id: index,\n                name: layer.get(\"name\") || \"Unnamed layer\",\n                showOptions: false,\n                mapLayer: layer\n              };\n              obj.children.push(layerOpt);\n            }\n          }\n        });\n      } else if (layer instanceof Vector) {\n        obj.id = index;\n        obj.name = layer.get(\"name\");\n        obj.showOptions = false;\n        obj.mapLayer = layer;\n      }\n      return obj;\n    },\n    doNothing() {},\n    toggleLayerVisibility(clickedLayer, layerGroup) {\n      //Turn off other layers if layer group is background layers.\n      if (layerGroup.name === \"backgroundLayers\") {\n        layerGroup.children.forEach(layer => {\n          if (layer.id === clickedLayer.id) return;\n          layer.showOptions = false;\n          layer.mapLayer.setVisible(false);\n        });\n      }\n\n      clickedLayer.mapLayer.setVisible(!clickedLayer.mapLayer.getVisible());\n      if (clickedLayer.mapLayer.getVisible() === false) {\n        clickedLayer.showOptions = false;\n      }\n\n      // Remove markers from mapillary viewer if layer is not visible and vice-versa.\n      if (clickedLayer.mapLayer.get(\"showInMapillary\")) {\n          EventBus.$emit(\"layerItemSelected\", clickedLayer.mapLayer);\n      }\n    },\n    toggleLayerOptions(item) {\n      item.showOptions = !item.showOptions;\n    },\n    changeLayerOpacity(value, layer) {\n      layer.setOpacity(value);\n    }\n  },\n  mounted() {\n    EventBus.$on(\"mapillaryLayerAdded\", (layer) => {\n      this.layers.forEach(group => {\n        if (group.name === layer.get(\"group\")) {\n          group.children.push({\n            id: 100,\n            name: layer.get(\"name\"),\n            showOptions: false,\n            mapLayer: layer\n          })\n        }\n      });\n    })\n  }\n};\n</script>\n<style lang=\"css\" scoped>\n.v-expansion-panel__header {\n  cursor: default;\n}\n.active-icon {\n  color: #30c2ff;\n}\n\n.expansion-panel__container--active {\n  background-color: #4caf50 !important;\n  color: white !important;\n}\n\n.v-expansion-panel-content >>> .v-expansion-panel-content__wrap {\n  padding: 0px;\n}\n\n.v-expansion-panel-content >>> .v-input__slot {\n  margin-bottom: 0px;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LayerTree.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LayerTree.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LayerTree.vue?vue&type=template&id=12af7b11&scoped=true&\"\nimport script from \"./LayerTree.vue?vue&type=script&lang=js&\"\nexport * from \"./LayerTree.vue?vue&type=script&lang=js&\"\nimport style0 from \"./LayerTree.vue?vue&type=style&index=0&id=12af7b11&lang=css&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"12af7b11\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VExpansionPanel } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelContent } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelHeader } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanels } from 'vuetify/lib/components/VExpansionPanel';\nimport { VFlex } from 'vuetify/lib/components/VGrid';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VLayout } from 'vuetify/lib/components/VGrid';\nimport { VSlider } from 'vuetify/lib/components/VSlider';\ninstallComponents(component, {VCard,VDivider,VExpansionPanel,VExpansionPanelContent,VExpansionPanelHeader,VExpansionPanels,VFlex,VIcon,VLayout,VSlider})\n","<template>\n  <v-navigation-drawer\n    id=\"tree-panel\"\n    v-model=\"drawer\"\n    :mini-variant.sync=\"mini\"\n    app\n    persistent\n    permanent\n    left\n    hide-overlay\n    mini-variant-width=\"50\"\n    width=\"350\"\n    class=\"right-shadow\"\n  >\n    <v-layout v-bind:class=\"getColor\" justify-space-between column fill-height>\n      <template v-if=\"mini\">\n        <v-btn\n          class=\"ml-3 mt-2\"\n          text\n          small\n          icon\n          light\n          @click.stop=\"mini = !mini\"\n        >\n          <v-icon color=\"white\">fas fa-chevron-right</v-icon>\n        </v-btn>\n      </template>\n      <template v-if=\"!mini\">\n        <v-app-bar flat class=\"toolbar green\" height=\"50\">\n          <img @click=\"openWebsite()\" class=\"logo mr-2\" :src=\"logo\" width=\"95px\" />\n          <span class=\"white--text title\">Yukon Energy Corp</span>\n          <v-spacer></v-spacer>\n          <v-btn text icon light @click.stop=\"mini = !mini\">\n            <v-icon color=\"white\">fas fa-chevron-left</v-icon>\n          </v-btn>\n        </v-app-bar>\n        <v-tabs>\n          <v-tab>\n            Layers\n          </v-tab>\n        </v-tabs>\n        <vue-scroll ref=\"vs\">\n          <v-layout\n            justify-space-between\n            column\n            fill-height\n            style=\"overflow-y: auto;\"\n          >\n            <keep-alive>\n              <component v-bind:is=\"activeComponent\"></component>\n            </keep-alive>\n          </v-layout>\n        </vue-scroll>\n      </template>\n    </v-layout>\n  </v-navigation-drawer>\n</template>\n\n<script>\n// Utilities\nimport LayerTree from \"../layers/LayerTree\";\nexport default {\n  components: {\n    \"map-layertree\": LayerTree\n  },\n  name: \"tree-panel\",\n  data: () => ({\n    activeComponent: \"map-layertree\",\n    logo: \"img/yec_logo.png\",\n    drawer: true,\n    mini: false,\n    responsive: false\n  }),\n  computed: {\n    getColor() {\n      return this.mini === true ? \"green\" : \"\";\n    }\n  },\n  methods: {\n    openWebsite() {\n      window.open('https://yukonenergy.ca/', '_blank')\n    }\n  }\n};\n</script>\n<style lang=\"css\">\n.toolbar {\n  font-weight: bold;\n  font-size: 18px;\n}\n.toolbar .text {\n  color: white;\n  text-decoration: none;\n}\n\n.rotate {\n  transform: rotate(-90deg);\n}\n\n.right-shadow {\n  box-shadow: rgba(0, 0, 0, 0.3) 0px 0px 20px;\n}\n\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TreePanel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TreePanel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TreePanel.vue?vue&type=template&id=0b68f08c&\"\nimport script from \"./TreePanel.vue?vue&type=script&lang=js&\"\nexport * from \"./TreePanel.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TreePanel.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAppBar } from 'vuetify/lib/components/VAppBar';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VLayout } from 'vuetify/lib/components/VGrid';\nimport { VNavigationDrawer } from 'vuetify/lib/components/VNavigationDrawer';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTab } from 'vuetify/lib/components/VTabs';\nimport { VTabs } from 'vuetify/lib/components/VTabs';\ninstallComponents(component, {VAppBar,VBtn,VIcon,VLayout,VNavigationDrawer,VSpacer,VTab,VTabs})\n","<template>\n  <v-app\n    id=\"wg-app\"\n    data-app\n    :class=\"{ 'wg-app': true, 'wg-app-embedded': isEmbedded }\"\n  >\n    <tree-panel />\n    <v-content>\n      <v-container\n        style=\"height: 100vh; max-height: 100%;\"\n        fluid\n        fill-height\n        class=\"pa-0\"\n      >\n        <app-viewer />\n      </v-container>\n    </v-content>\n  </v-app>\n</template>\n\n<script>\nimport Vue from \"vue\";\nimport { EventBus } from \"../EventBus.js\";\nimport Viewer from \"../components/viewer/viewer\";\nimport treePanel from \"../components/core/TreePanel\";\n\nexport default {\n  name: \"wg-app\",\n  components: {\n    \"app-viewer\": Viewer,\n    treePanel\n  },\n  data() {\n    return {\n      isEmbedded: false,\n      baseColor: Vue.prototype.$appConfig.baseColor\n    };\n  },\n  mounted() {\n    // apply the isEmbedded state to the member var\n    this.isEmbedded = this.$isEmbedded;\n    ///\n    // make the refs (floating module window, which are not connected to their\n    // related components, e.g. buttons to toggle them)\n    const refs = this.$refs;\n    let cmpLookup = {};\n    for (const key of Object.keys(refs)) {\n      cmpLookup[key] = refs[key][0];\n    }\n    Vue.prototype.cmpLookup = cmpLookup;\n    // inform registered cmps that the app is mounted and the dynamic\n    // components are available\n    EventBus.$emit(\"app-mounted\");\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Home.vue?vue&type=template&id=64975792&\"\nimport script from \"./Home.vue?vue&type=script&lang=js&\"\nexport * from \"./Home.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VApp } from 'vuetify/lib/components/VApp';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VContent } from 'vuetify/lib/components/VContent';\ninstallComponents(component, {VApp,VContainer,VContent})\n","import Vue from \"vue\";\nimport VueRouter from \"vue-router\";\nimport Login from \"../views/Login.vue\";\nimport Home from \"../views/Home.vue\";\n\nimport * as firebase from \"firebase/app\";\nimport \"firebase/auth\";\n\nVue.use(VueRouter);\n\nconst routes = [\n  {\n    path: \"/\",\n    name: \"home\",\n    component: Home,\n    meta: { requiresAuth: true }\n  },\n  {\n    path: \"/login\",\n    name: \"login\",\n    component: Login\n  }\n];\n\nconst router = new VueRouter({\n  mode: \"history\",\n  base: process.env.BASE_URL,\n  routes\n});\n\nrouter.beforeEach((to, from, next) => {\n  const requiresAuth = to.matched.some(record => record.meta.requiresAuth);\n  const isAuthenticated = firebase.auth().currentUser;\n  if (requiresAuth && !isAuthenticated) {\n    next(\"/login\");\n  } else {\n    next();\n  }\n});\n\nexport default router;\n","import Vue from \"vue\";\nimport vuetify from \"@/plugins/vuetify\";\nimport \"./plugins/vuescroll\";\nimport App from \"./App.vue\";\nimport router from \"./router\";\nimport firebase from \"firebase/app\";\nimport 'firebase/storage';  // <----\n\nrequire(\"../node_modules/ol/ol.css\");\nrequire(\"./assets/scss/app.scss\");\n\n// Firebase authentication\n  var firebaseConfig = {\n    apiKey: \"AIzaSyAOqcRbxxsB5gSou_t0yfMaBL4qhrsTqR8\",\n    authDomain: \"underhill-1973e.firebaseapp.com\",\n    databaseURL: \"https://underhill-1973e.firebaseio.com\",\n    projectId: \"underhill-1973e\",\n    storageBucket: \"underhill-1973e.appspot.com\",\n    messagingSenderId: \"792391738711\",\n    appId: \"1:792391738711:web:cb513c38d4e365022bca12\",\n    measurementId: \"G-8RGFXDGQC9\"\n  };\n// Initialize Firebase\nfirebase.initializeApp(firebaseConfig);\n\n// Detect isEmbedded state by attribute embedded and\n// make accessible for all components\n// recommended by https://vuejs.org/v2/cookbook/adding-instance-properties.html\nVue.config.productionTip = false;\nconst appEl = document.querySelector(\"#app\");\nVue.prototype.$isEmbedded = appEl.hasAttribute(\"embedded\");\n\n\nvar storage = firebase.storage();\n\nfirebase.auth().onAuthStateChanged(() => {\n  // Get config file from storage\n  storage\n    .ref(\"config/app-conf.json\")\n    .getDownloadURL()\n    .then(url => {\n      fetch(url)\n        .then(function(response) {\n          return response.json();\n        })\n        .then(function(appConfig) {\n          // make app config accessible for all components\n          Vue.prototype.$appConfig = appConfig;\n          new Vue({\n            vuetify,\n            router,\n            render: h => h(App)\n          }).$mount(\"#app\");\n        });\n    });\n});\n","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Signout.vue?vue&type=style&index=0&id=752f4d44&lang=css&scoped=true&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Signout.vue?vue&type=style&index=0&id=752f4d44&lang=css&scoped=true&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TreePanel.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TreePanel.vue?vue&type=style&index=0&lang=css&\"","module.exports = __webpack_public_path__ + \"img/OSM-Dark.fd90e505.png\";","module.exports = __webpack_public_path__ + \"img/OSM-Light.7f72e120.png\";","var map = {\n\t\"./Aerial.png\": \"4309\",\n\t\"./Mapbox.png\": \"39ec\",\n\t\"./OSM-Dark.png\": \"9567\",\n\t\"./OSM-Light.png\": \"9ecc\",\n\t\"./OSM-Standart.png\": \"0ebd\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"d002\";"],"sourceRoot":""}